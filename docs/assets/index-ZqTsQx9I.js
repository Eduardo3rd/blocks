var vh=Object.defineProperty;var _h=(t,e,n)=>e in t?vh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>_h(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var kc={exports:{}},gi={},xc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),kh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),jh=Symbol.for("react.context"),bh=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Nh=Symbol.for("react.memo"),Rh=Symbol.for("react.lazy"),$l=Symbol.iterator;function Lh(t){return t===null||typeof t!="object"?null:(t=$l&&t[$l]||t["@@iterator"],typeof t=="function"?t:null)}var Cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ec=Object.assign,Tc={};function rr(t,e,n){this.props=t,this.context=e,this.refs=Tc,this.updater=n||Cc}rr.prototype.isReactComponent={};rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jc(){}jc.prototype=rr.prototype;function Ta(t,e,n){this.props=t,this.context=e,this.refs=Tc,this.updater=n||Cc}var ja=Ta.prototype=new jc;ja.constructor=Ta;Ec(ja,rr.prototype);ja.isPureReactComponent=!0;var Il=Array.isArray,bc=Object.prototype.hasOwnProperty,ba={current:null},Pc={key:!0,ref:!0,__self:!0,__source:!0};function Nc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)bc.call(e,r)&&!Pc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ts,type:t,key:i,ref:o,props:s,_owner:ba.current}}function Ah(t,e){return{$$typeof:ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pa(t){return typeof t=="object"&&t!==null&&t.$$typeof===ts}function Oh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zl=/\/+/g;function Mi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Oh(""+t.key):e.toString(36)}function Ls(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ts:case kh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Mi(o,0):r,Il(s)?(n="",t!=null&&(n=t.replace(zl,"$&/")+"/"),Ls(s,e,n,"",function(u){return u})):s!=null&&(Pa(s)&&(s=Ah(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Il(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Mi(i,a);o+=Ls(i,e,n,l,s)}else if(l=Lh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Mi(i,a++),o+=Ls(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cs(t,e,n){if(t==null)return t;var r=[],s=0;return Ls(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $h(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},As={transition:null},Ih={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:As,ReactCurrentOwner:ba};function Rc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:cs,forEach:function(t,e,n){cs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cs(t,function(){e++}),e},toArray:function(t){return cs(t,function(e){return e})||[]},only:function(t){if(!Pa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=rr;F.Fragment=xh;F.Profiler=Eh;F.PureComponent=Ta;F.StrictMode=Ch;F.Suspense=Ph;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;F.act=Rc;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ec({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ba.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bc.call(e,l)&&!Pc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ts,type:t.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:jh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Th,_context:t},t.Consumer=t};F.createElement=Nc;F.createFactory=function(t){var e=Nc.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:bh,render:t}};F.isValidElement=Pa;F.lazy=function(t){return{$$typeof:Rh,_payload:{_status:-1,_result:t},_init:$h}};F.memo=function(t,e){return{$$typeof:Nh,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=As.transition;As.transition={};try{t()}finally{As.transition=e}};F.unstable_act=Rc;F.useCallback=function(t,e){return je.current.useCallback(t,e)};F.useContext=function(t){return je.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return je.current.useDeferredValue(t)};F.useEffect=function(t,e){return je.current.useEffect(t,e)};F.useId=function(){return je.current.useId()};F.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return je.current.useMemo(t,e)};F.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};F.useRef=function(t){return je.current.useRef(t)};F.useState=function(t){return je.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return je.current.useTransition()};F.version="18.3.1";xc.exports=F;var w=xc.exports;const _r=wh(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=w,Dh=Symbol.for("react.element"),Bh=Symbol.for("react.fragment"),Mh=Object.prototype.hasOwnProperty,Uh=zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fh={key:!0,ref:!0,__self:!0,__source:!0};function Lc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Mh.call(e,r)&&!Fh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Dh,type:t,key:i,ref:o,props:s,_owner:Uh.current}}gi.Fragment=Bh;gi.jsx=Lc;gi.jsxs=Lc;kc.exports=gi;var d=kc.exports,xo={},Ac={exports:{}},Fe={},Oc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,L){var A=C.length;C.push(L);e:for(;0<A;){var ie=A-1>>>1,fe=C[ie];if(0<s(fe,L))C[ie]=L,C[A]=fe,A=ie;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],A=C.pop();if(A!==L){C[0]=A;e:for(var ie=0,fe=C.length,ls=fe>>>1;ie<ls;){var Xt=2*(ie+1)-1,Bi=C[Xt],en=Xt+1,us=C[en];if(0>s(Bi,A))en<fe&&0>s(us,Bi)?(C[ie]=us,C[en]=A,ie=en):(C[ie]=Bi,C[Xt]=A,ie=Xt);else if(en<fe&&0>s(us,A))C[ie]=us,C[en]=A,ie=en;else break e}}return L}function s(C,L){var A=C.sortIndex-L.sortIndex;return A!==0?A:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=C)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function _(C){if(S=!1,g(C),!v)if(n(l)!==null)v=!0,Ve(k);else{var L=n(u);L!==null&&lt(_,L.startTime-C)}}function k(C,L){v=!1,S&&(S=!1,m(N),N=-1),y=!0;var A=h;try{for(g(L),f=n(l);f!==null&&(!(f.expirationTime>L)||C&&!P());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var fe=ie(f.expirationTime<=L);L=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),g(L)}else r(l);f=n(l)}if(f!==null)var ls=!0;else{var Xt=n(u);Xt!==null&&lt(_,Xt.startTime-L),ls=!1}return ls}finally{f=null,h=A,y=!1}}var T=!1,b=null,N=-1,G=5,$=-1;function P(){return!(t.unstable_now()-$<G)}function O(){if(b!==null){var C=t.unstable_now();$=C;var L=!0;try{L=b(!0,C)}finally{L?D():(T=!1,b=null)}}else T=!1}var D;if(typeof p=="function")D=function(){p(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=O,D=function(){Y.postMessage(null)}}else D=function(){E(O,0)};function Ve(C){b=C,T||(T=!0,D())}function lt(C,L){N=E(function(){C(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Ve(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var A=h;h=L;try{return C()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=h;h=C;try{return L()}finally{h=A}},t.unstable_scheduleCallback=function(C,L,A){var ie=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ie+A:ie):A=ie,C){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=A+fe,C={id:c++,callback:L,priorityLevel:C,startTime:A,expirationTime:fe,sortIndex:-1},A>ie?(C.sortIndex=A,e(u,C),n(l)===null&&C===n(u)&&(S?(m(N),N=-1):S=!0,lt(_,A-ie))):(C.sortIndex=fe,e(l,C),v||y||(v=!0,Ve(k))),C},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(C){var L=h;return function(){var A=h;h=L;try{return C.apply(this,arguments)}finally{h=A}}}})($c);Oc.exports=$c;var Hh=Oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=w,Ue=Hh;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ic=new Set,Ir={};function vn(t,e){Kn(t,e),Kn(t+"Capture",e)}function Kn(t,e){for(Ir[t]=e,t=0;t<e.length;t++)Ic.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=Object.prototype.hasOwnProperty,Gh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dl={},Bl={};function Kh(t){return Co.call(Bl,t)?!0:Co.call(Dl,t)?!1:Gh.test(t)?Bl[t]=!0:(Dl[t]=!0,!1)}function Wh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qh(t,e,n,r){if(e===null||typeof e>"u"||Wh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Na=/[\-:]([a-z])/g;function Ra(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Na,Ra);ve[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Na,Ra);ve[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Na,Ra);ve[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function La(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qh(e,n,s,r)&&(n=null),r||s===null?Kh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jt=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),jn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),Aa=Symbol.for("react.strict_mode"),Eo=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),Oa=Symbol.for("react.forward_ref"),To=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),$a=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),Ml=Symbol.iterator;function lr(t){return t===null||typeof t!="object"?null:(t=Ml&&t[Ml]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Ui;function wr(t){if(Ui===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ui=e&&e[1]||""}return`
`+Ui+t}var Fi=!1;function Hi(t,e){if(!t||Fi)return"";Fi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wr(t):""}function Qh(t){switch(t.tag){case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return t=Hi(t.type,!1),t;case 11:return t=Hi(t.type.render,!1),t;case 1:return t=Hi(t.type,!0),t;default:return""}}function bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bn:return"Fragment";case jn:return"Portal";case Eo:return"Profiler";case Aa:return"StrictMode";case To:return"Suspense";case jo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dc:return(t.displayName||"Context")+".Consumer";case zc:return(t._context.displayName||"Context")+".Provider";case Oa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $a:return e=t.displayName||null,e!==null?e:bo(t.type)||"Memo";case Lt:e=t._payload,t=t._init;try{return bo(t(e))}catch{}}return null}function Yh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(e);case 8:return e===Aa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jh(t){var e=Mc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fs(t){t._valueTracker||(t._valueTracker=Jh(t))}function Uc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Po(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ul(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fc(t,e){e=e.checked,e!=null&&La(t,"checked",e,!1)}function No(t,e){Fc(t,e);var n=qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ro(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ro(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ro(t,e,n){(e!=="number"||Vs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sr=Array.isArray;function Bn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(Sr(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function Hc(t,e){var n=qt(e.value),r=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hs,Gc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zh=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(t){Zh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Er[e]=Er[t]})});function Kc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Er.hasOwnProperty(t)&&Er[t]?(""+e).trim():e+"px"}function Wc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Kc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Xh=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(Xh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function $o(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Ia(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zo=null,Mn=null,Un=null;function Gl(t){if(t=ss(t)){if(typeof zo!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Si(e),zo(t.stateNode,t.type,e))}}function qc(t){Mn?Un?Un.push(t):Un=[t]:Mn=t}function Qc(){if(Mn){var t=Mn,e=Un;if(Un=Mn=null,Gl(t),e)for(t=0;t<e.length;t++)Gl(e[t])}}function Yc(t,e){return t(e)}function Jc(){}var Vi=!1;function Zc(t,e,n){if(Vi)return t(e,n);Vi=!0;try{return Yc(t,e,n)}finally{Vi=!1,(Mn!==null||Un!==null)&&(Jc(),Qc())}}function Dr(t,e){var n=t.stateNode;if(n===null)return null;var r=Si(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Do=!1;if(xt)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Do=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Do=!1}function ep(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tr=!1,Gs=null,Ks=!1,Bo=null,tp={onError:function(t){Tr=!0,Gs=t}};function np(t,e,n,r,s,i,o,a,l){Tr=!1,Gs=null,ep.apply(tp,arguments)}function rp(t,e,n,r,s,i,o,a,l){if(np.apply(this,arguments),Tr){if(Tr){var u=Gs;Tr=!1,Gs=null}else throw Error(x(198));Ks||(Ks=!0,Bo=u)}}function _n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kl(t){if(_n(t)!==t)throw Error(x(188))}function sp(t){var e=t.alternate;if(!e){if(e=_n(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kl(s),t;if(i===r)return Kl(s),e;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function ed(t){return t=sp(t),t!==null?td(t):null}function td(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=td(t);if(e!==null)return e;t=t.sibling}return null}var nd=Ue.unstable_scheduleCallback,Wl=Ue.unstable_cancelCallback,ip=Ue.unstable_shouldYield,op=Ue.unstable_requestPaint,ae=Ue.unstable_now,ap=Ue.unstable_getCurrentPriorityLevel,za=Ue.unstable_ImmediatePriority,rd=Ue.unstable_UserBlockingPriority,Ws=Ue.unstable_NormalPriority,lp=Ue.unstable_LowPriority,sd=Ue.unstable_IdlePriority,yi=null,pt=null;function up(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:fp,cp=Math.log,dp=Math.LN2;function fp(t){return t>>>=0,t===0?32:31-(cp(t)/dp|0)|0}var ps=64,ms=4194304;function kr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kr(a):(i&=o,i!==0&&(r=kr(i)))}else o=n&~s,o!==0?r=kr(o):i!==0&&(r=kr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),s=1<<n,r|=t[n],e&=~s;return r}function hp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Mo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function id(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function Gi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function mp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-it(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Da(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var K=0;function od(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ad,Ba,ld,ud,cd,Uo=!1,gs=[],Mt=null,Ut=null,Ft=null,Br=new Map,Mr=new Map,$t=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(e.pointerId)}}function cr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ss(e),e!==null&&Ba(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yp(t,e,n,r,s){switch(e){case"focusin":return Mt=cr(Mt,t,e,n,r,s),!0;case"dragenter":return Ut=cr(Ut,t,e,n,r,s),!0;case"mouseover":return Ft=cr(Ft,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Br.set(i,cr(Br.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mr.set(i,cr(Mr.get(i)||null,t,e,n,r,s)),!0}return!1}function dd(t){var e=ln(t.target);if(e!==null){var n=_n(e);if(n!==null){if(e=n.tag,e===13){if(e=Xc(n),e!==null){t.blockedOn=e,cd(t.priority,function(){ld(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Io=r,n.target.dispatchEvent(r),Io=null}else return e=ss(n),e!==null&&Ba(e),t.blockedOn=n,!1;e.shift()}return!0}function Ql(t,e,n){Os(t)&&n.delete(e)}function vp(){Uo=!1,Mt!==null&&Os(Mt)&&(Mt=null),Ut!==null&&Os(Ut)&&(Ut=null),Ft!==null&&Os(Ft)&&(Ft=null),Br.forEach(Ql),Mr.forEach(Ql)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Uo||(Uo=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,vp)))}function Ur(t){function e(s){return dr(s,t)}if(0<gs.length){dr(gs[0],t);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&dr(Mt,t),Ut!==null&&dr(Ut,t),Ft!==null&&dr(Ft,t),Br.forEach(e),Mr.forEach(e),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)dd(n),n.blockedOn===null&&$t.shift()}var Fn=jt.ReactCurrentBatchConfig,Qs=!0;function _p(t,e,n,r){var s=K,i=Fn.transition;Fn.transition=null;try{K=1,Ma(t,e,n,r)}finally{K=s,Fn.transition=i}}function wp(t,e,n,r){var s=K,i=Fn.transition;Fn.transition=null;try{K=4,Ma(t,e,n,r)}finally{K=s,Fn.transition=i}}function Ma(t,e,n,r){if(Qs){var s=Fo(t,e,n,r);if(s===null)to(t,e,r,Ys,n),ql(t,r);else if(yp(s,t,e,n,r))r.stopPropagation();else if(ql(t,r),e&4&&-1<gp.indexOf(t)){for(;s!==null;){var i=ss(s);if(i!==null&&ad(i),i=Fo(t,e,n,r),i===null&&to(t,e,r,Ys,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else to(t,e,r,null,n)}}var Ys=null;function Fo(t,e,n,r){if(Ys=null,t=Ia(r),t=ln(t),t!==null)if(e=_n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ys=t,null}function fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case za:return 1;case rd:return 4;case Ws:case lp:return 16;case sd:return 536870912;default:return 16}default:return 16}}var Dt=null,Ua=null,$s=null;function hd(){if($s)return $s;var t,e=Ua,n=e.length,r,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $s=s.slice(t,1<r?1-r:void 0)}function Is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ys(){return!0}function Yl(){return!1}function He(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ys:Yl,this.isPropagationStopped=Yl,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=He(sr),rs=re({},sr,{view:0,detail:0}),Sp=He(rs),Ki,Wi,fr,vi=re({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(Ki=t.screenX-fr.screenX,Wi=t.screenY-fr.screenY):Wi=Ki=0,fr=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Wi}}),Jl=He(vi),kp=re({},vi,{dataTransfer:0}),xp=He(kp),Cp=re({},rs,{relatedTarget:0}),qi=He(Cp),Ep=re({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=He(Ep),jp=re({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bp=He(jp),Pp=re({},sr,{data:0}),Zl=He(Pp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lp[t])?!!e[t]:!1}function Ha(){return Ap}var Op=re({},rs,{key:function(t){if(t.key){var e=Np[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$p=He(Op),Ip=re({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=He(Ip),zp=re({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Dp=He(zp),Bp=re({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mp=He(Bp),Up=re({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fp=He(Up),Hp=[9,13,27,32],Va=xt&&"CompositionEvent"in window,jr=null;xt&&"documentMode"in document&&(jr=document.documentMode);var Vp=xt&&"TextEvent"in window&&!jr,pd=xt&&(!Va||jr&&8<jr&&11>=jr),eu=" ",tu=!1;function md(t,e){switch(t){case"keyup":return Hp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function Gp(t,e){switch(t){case"compositionend":return gd(e);case"keypress":return e.which!==32?null:(tu=!0,eu);case"textInput":return t=e.data,t===eu&&tu?null:t;default:return null}}function Kp(t,e){if(Pn)return t==="compositionend"||!Va&&md(t,e)?(t=hd(),$s=Ua=Dt=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pd&&e.locale!=="ko"?null:e.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wp[t.type]:e==="textarea"}function yd(t,e,n,r){qc(r),e=Js(e,"onChange"),0<e.length&&(n=new Fa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var br=null,Fr=null;function qp(t){bd(t,0)}function _i(t){var e=Ln(t);if(Uc(e))return t}function Qp(t,e){if(t==="change")return e}var vd=!1;if(xt){var Qi;if(xt){var Yi="oninput"in document;if(!Yi){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),Yi=typeof ru.oninput=="function"}Qi=Yi}else Qi=!1;vd=Qi&&(!document.documentMode||9<document.documentMode)}function su(){br&&(br.detachEvent("onpropertychange",_d),Fr=br=null)}function _d(t){if(t.propertyName==="value"&&_i(Fr)){var e=[];yd(e,Fr,t,Ia(t)),Zc(qp,e)}}function Yp(t,e,n){t==="focusin"?(su(),br=e,Fr=n,br.attachEvent("onpropertychange",_d)):t==="focusout"&&su()}function Jp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _i(Fr)}function Zp(t,e){if(t==="click")return _i(e)}function Xp(t,e){if(t==="input"||t==="change")return _i(e)}function em(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:em;function Hr(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Co.call(e,s)||!at(t[s],e[s]))return!1}return!0}function iu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ou(t,e){var n=iu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iu(n)}}function wd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sd(){for(var t=window,e=Vs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vs(t.document)}return e}function Ga(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tm(t){var e=Sd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(r!==null&&Ga(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ou(n,i);var o=ou(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nm=xt&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ho=null,Pr=null,Vo=!1;function au(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vo||Nn==null||Nn!==Vs(r)||(r=Nn,"selectionStart"in r&&Ga(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Hr(Pr,r)||(Pr=r,r=Js(Ho,"onSelect"),0<r.length&&(e=new Fa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nn)))}function vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Ji={},kd={};xt&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function wi(t){if(Ji[t])return Ji[t];if(!Rn[t])return t;var e=Rn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kd)return Ji[t]=e[n];return t}var xd=wi("animationend"),Cd=wi("animationiteration"),Ed=wi("animationstart"),Td=wi("transitionend"),jd=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){jd.set(t,e),vn(e,[t])}for(var Zi=0;Zi<lu.length;Zi++){var Xi=lu[Zi],rm=Xi.toLowerCase(),sm=Xi[0].toUpperCase()+Xi.slice(1);Yt(rm,"on"+sm)}Yt(xd,"onAnimationEnd");Yt(Cd,"onAnimationIteration");Yt(Ed,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Td,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),im=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function uu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rp(r,e,void 0,t),t.currentTarget=null}function bd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;uu(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;uu(s,a,u),i=l}}}if(Ks)throw t=Bo,Ks=!1,Bo=null,t}function J(t,e){var n=e[Qo];n===void 0&&(n=e[Qo]=new Set);var r=t+"__bubble";n.has(r)||(Pd(e,t,2,!1),n.add(r))}function eo(t,e,n){var r=0;e&&(r|=4),Pd(n,t,r,e)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[_s]){t[_s]=!0,Ic.forEach(function(n){n!=="selectionchange"&&(im.has(n)||eo(n,!1,t),eo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_s]||(e[_s]=!0,eo("selectionchange",!1,e))}}function Pd(t,e,n,r){switch(fd(e)){case 1:var s=_p;break;case 4:s=wp;break;default:s=Ma}n=s.bind(null,e,n,t),s=void 0,!Do||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function to(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ln(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Zc(function(){var u=i,c=Ia(n),f=[];e:{var h=jd.get(t);if(h!==void 0){var y=Fa,v=t;switch(t){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":y=$p;break;case"focusin":v="focus",y=qi;break;case"focusout":v="blur",y=qi;break;case"beforeblur":case"afterblur":y=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Dp;break;case xd:case Cd:case Ed:y=Tp;break;case Td:y=Mp;break;case"scroll":y=Sp;break;case"wheel":y=Fp;break;case"copy":case"cut":case"paste":y=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xl}var S=(e&4)!==0,E=!S&&t==="scroll",m=S?h!==null?h+"Capture":null:h;S=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Dr(p,m),_!=null&&S.push(Gr(p,_,g)))),E)break;p=p.return}0<S.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Io&&(v=n.relatedTarget||n.fromElement)&&(ln(v)||v[Ct]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?ln(v):null,v!==null&&(E=_n(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(S=Jl,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(S=Xl,_="onPointerLeave",m="onPointerEnter",p="pointer"),E=y==null?h:Ln(y),g=v==null?h:Ln(v),h=new S(_,p+"leave",y,n,c),h.target=E,h.relatedTarget=g,_=null,ln(c)===u&&(S=new S(m,p+"enter",v,n,c),S.target=g,S.relatedTarget=E,_=S),E=_,y&&v)t:{for(S=y,m=v,p=0,g=S;g;g=kn(g))p++;for(g=0,_=m;_;_=kn(_))g++;for(;0<p-g;)S=kn(S),p--;for(;0<g-p;)m=kn(m),g--;for(;p--;){if(S===m||m!==null&&S===m.alternate)break t;S=kn(S),m=kn(m)}S=null}else S=null;y!==null&&cu(f,h,y,S,!1),v!==null&&E!==null&&cu(f,E,v,S,!0)}}e:{if(h=u?Ln(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=Qp;else if(nu(h))if(vd)k=Xp;else{k=Jp;var T=Yp}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Zp);if(k&&(k=k(t,u))){yd(f,k,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ro(h,"number",h.value)}switch(T=u?Ln(u):window,t){case"focusin":(nu(T)||T.contentEditable==="true")&&(Nn=T,Ho=u,Pr=null);break;case"focusout":Pr=Ho=Nn=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,au(f,n,c);break;case"selectionchange":if(nm)break;case"keydown":case"keyup":au(f,n,c)}var b;if(Va)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pn?md(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(pd&&n.locale!=="ko"&&(Pn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pn&&(b=hd()):(Dt=c,Ua="value"in Dt?Dt.value:Dt.textContent,Pn=!0)),T=Js(u,N),0<T.length&&(N=new Zl(N,t,null,n,c),f.push({event:N,listeners:T}),b?N.data=b:(b=gd(n),b!==null&&(N.data=b)))),(b=Vp?Gp(t,n):Kp(t,n))&&(u=Js(u,"onBeforeInput"),0<u.length&&(c=new Zl("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}bd(f,e)})}function Gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Js(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dr(t,n),i!=null&&r.unshift(Gr(t,i,s)),i=Dr(t,e),i!=null&&r.push(Gr(t,i,s))),t=t.return}return r}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Dr(n,i),l!=null&&o.unshift(Gr(n,l,a))):s||(l=Dr(n,i),l!=null&&o.push(Gr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var om=/\r\n?/g,am=/\u0000|\uFFFD/g;function du(t){return(typeof t=="string"?t:""+t).replace(om,`
`).replace(am,"")}function ws(t,e,n){if(e=du(e),du(t)!==e&&n)throw Error(x(425))}function Zs(){}var Go=null,Ko=null;function Wo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,um=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(t){return fu.resolve(null).then(t).catch(cm)}:qo;function cm(t){setTimeout(function(){throw t})}function no(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ur(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ur(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),ft="__reactFiber$"+ir,Kr="__reactProps$"+ir,Ct="__reactContainer$"+ir,Qo="__reactEvents$"+ir,dm="__reactListeners$"+ir,fm="__reactHandles$"+ir;function ln(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ct]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hu(t);t!==null;){if(n=t[ft])return n;t=hu(t)}return e}t=n,n=t.parentNode}return null}function ss(t){return t=t[ft]||t[Ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Si(t){return t[Kr]||null}var Yo=[],An=-1;function Jt(t){return{current:t}}function Z(t){0>An||(t.current=Yo[An],Yo[An]=null,An--)}function Q(t,e){An++,Yo[An]=t.current,t.current=e}var Qt={},xe=Jt(Qt),Ae=Jt(!1),hn=Qt;function Wn(t,e){var n=t.type.contextTypes;if(!n)return Qt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function Xs(){Z(Ae),Z(xe)}function pu(t,e,n){if(xe.current!==Qt)throw Error(x(168));Q(xe,e),Q(Ae,n)}function Nd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(x(108,Yh(t)||"Unknown",s));return re({},n,r)}function ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qt,hn=xe.current,Q(xe,t),Q(Ae,Ae.current),!0}function mu(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Nd(t,e,hn),r.__reactInternalMemoizedMergedChildContext=t,Z(Ae),Z(xe),Q(xe,t)):Z(Ae),Q(Ae,n)}var vt=null,ki=!1,ro=!1;function Rd(t){vt===null?vt=[t]:vt.push(t)}function hm(t){ki=!0,Rd(t)}function Zt(){if(!ro&&vt!==null){ro=!0;var t=0,e=K;try{var n=vt;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,ki=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),nd(za,Zt),s}finally{K=e,ro=!1}}return null}var On=[],$n=0,ti=null,ni=0,Ke=[],We=0,pn=null,wt=1,St="";function nn(t,e){On[$n++]=ni,On[$n++]=ti,ti=t,ni=e}function Ld(t,e,n){Ke[We++]=wt,Ke[We++]=St,Ke[We++]=pn,pn=t;var r=wt;t=St;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wt=1<<32-it(e)+s|n<<s|r,St=i+t}else wt=1<<i|n<<s|r,St=t}function Ka(t){t.return!==null&&(nn(t,1),Ld(t,1,0))}function Wa(t){for(;t===ti;)ti=On[--$n],On[$n]=null,ni=On[--$n],On[$n]=null;for(;t===pn;)pn=Ke[--We],Ke[We]=null,St=Ke[--We],Ke[We]=null,wt=Ke[--We],Ke[We]=null}var Me=null,Be=null,X=!1,st=null;function Ad(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Be=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pn!==null?{id:wt,overflow:St}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Me=t,Be=null,!0):!1;default:return!1}}function Jo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zo(t){if(X){var e=Be;if(e){var n=e;if(!gu(t,e)){if(Jo(t))throw Error(x(418));e=Ht(n.nextSibling);var r=Me;e&&gu(t,e)?Ad(r,n):(t.flags=t.flags&-4097|2,X=!1,Me=t)}}else{if(Jo(t))throw Error(x(418));t.flags=t.flags&-4097|2,X=!1,Me=t}}}function yu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function Ss(t){if(t!==Me)return!1;if(!X)return yu(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wo(t.type,t.memoizedProps)),e&&(e=Be)){if(Jo(t))throw Od(),Error(x(418));for(;e;)Ad(t,e),e=Ht(e.nextSibling)}if(yu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Be=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Be=null}}else Be=Me?Ht(t.stateNode.nextSibling):null;return!0}function Od(){for(var t=Be;t;)t=Ht(t.nextSibling)}function qn(){Be=Me=null,X=!1}function qa(t){st===null?st=[t]:st.push(t)}var pm=jt.ReactCurrentBatchConfig;function hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function ks(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vu(t){var e=t._init;return e(t._payload)}function $d(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Wt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=co(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,_){var k=g.type;return k===bn?c(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&vu(k)===p.type)?(_=s(p,g.props),_.ref=hr(m,p,g),_.return=m,_):(_=Hs(g.type,g.key,g.props,null,m.mode,_),_.ref=hr(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=fo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,_,k){return p===null||p.tag!==7?(p=fn(g,m.mode,_,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=co(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return g=Hs(p.type,p.key,p.props,null,m.mode,g),g.ref=hr(m,null,p),g.return=m,g;case jn:return p=fo(p,m.mode,g),p.return=m,p;case Lt:var _=p._init;return f(m,_(p._payload),g)}if(Sr(p)||lr(p))return p=fn(p,m.mode,g,null),p.return=m,p;ks(m,p)}return null}function h(m,p,g,_){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return g.key===k?l(m,p,g,_):null;case jn:return g.key===k?u(m,p,g,_):null;case Lt:return k=g._init,h(m,p,k(g._payload),_)}if(Sr(g)||lr(g))return k!==null?null:c(m,p,g,_,null);ks(m,g)}return null}function y(m,p,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ds:return m=m.get(_.key===null?g:_.key)||null,l(p,m,_,k);case jn:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,k);case Lt:var T=_._init;return y(m,p,g,T(_._payload),k)}if(Sr(_)||lr(_))return m=m.get(g)||null,c(p,m,_,k,null);ks(p,_)}return null}function v(m,p,g,_){for(var k=null,T=null,b=p,N=p=0,G=null;b!==null&&N<g.length;N++){b.index>N?(G=b,b=null):G=b.sibling;var $=h(m,b,g[N],_);if($===null){b===null&&(b=G);break}t&&b&&$.alternate===null&&e(m,b),p=i($,p,N),T===null?k=$:T.sibling=$,T=$,b=G}if(N===g.length)return n(m,b),X&&nn(m,N),k;if(b===null){for(;N<g.length;N++)b=f(m,g[N],_),b!==null&&(p=i(b,p,N),T===null?k=b:T.sibling=b,T=b);return X&&nn(m,N),k}for(b=r(m,b);N<g.length;N++)G=y(b,m,N,g[N],_),G!==null&&(t&&G.alternate!==null&&b.delete(G.key===null?N:G.key),p=i(G,p,N),T===null?k=G:T.sibling=G,T=G);return t&&b.forEach(function(P){return e(m,P)}),X&&nn(m,N),k}function S(m,p,g,_){var k=lr(g);if(typeof k!="function")throw Error(x(150));if(g=k.call(g),g==null)throw Error(x(151));for(var T=k=null,b=p,N=p=0,G=null,$=g.next();b!==null&&!$.done;N++,$=g.next()){b.index>N?(G=b,b=null):G=b.sibling;var P=h(m,b,$.value,_);if(P===null){b===null&&(b=G);break}t&&b&&P.alternate===null&&e(m,b),p=i(P,p,N),T===null?k=P:T.sibling=P,T=P,b=G}if($.done)return n(m,b),X&&nn(m,N),k;if(b===null){for(;!$.done;N++,$=g.next())$=f(m,$.value,_),$!==null&&(p=i($,p,N),T===null?k=$:T.sibling=$,T=$);return X&&nn(m,N),k}for(b=r(m,b);!$.done;N++,$=g.next())$=y(b,m,N,$.value,_),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?N:$.key),p=i($,p,N),T===null?k=$:T.sibling=$,T=$);return t&&b.forEach(function(O){return e(m,O)}),X&&nn(m,N),k}function E(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===bn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:e:{for(var k=g.key,T=p;T!==null;){if(T.key===k){if(k=g.type,k===bn){if(T.tag===7){n(m,T.sibling),p=s(T,g.props.children),p.return=m,m=p;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&vu(k)===T.type){n(m,T.sibling),p=s(T,g.props),p.ref=hr(m,T,g),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}g.type===bn?(p=fn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Hs(g.type,g.key,g.props,null,m.mode,_),_.ref=hr(m,p,g),_.return=m,m=_)}return o(m);case jn:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=fo(g,m.mode,_),p.return=m,m=p}return o(m);case Lt:return T=g._init,E(m,p,T(g._payload),_)}if(Sr(g))return v(m,p,g,_);if(lr(g))return S(m,p,g,_);ks(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=co(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return E}var Qn=$d(!0),Id=$d(!1),ri=Jt(null),si=null,In=null,Qa=null;function Ya(){Qa=In=si=null}function Ja(t){var e=ri.current;Z(ri),t._currentValue=e}function Xo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hn(t,e){si=t,Qa=In=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:e,next:null},In===null){if(si===null)throw Error(x(308));In=t,si.dependencies={lanes:0,firstContext:t}}else In=In.next=t;return e}var un=null;function Za(t){un===null?un=[t]:un.push(t)}function zd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Za(e)):(n.next=s.next,s.next=n),e.interleaved=n,Et(t,r)}function Et(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var At=!1;function Xa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Et(t,n)}return s=r.interleaved,s===null?(e.next=e,Za(r)):(e.next=s.next,s.next=e),r.interleaved=e,Et(t,n)}function zs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Da(t,n)}}function _u(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ii(t,e,n,r){var s=t.updateQueue;At=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,S=a;switch(h=e,y=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=re({},f,h);break e;case 2:At=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);gn|=o,t.lanes=o,t.memoizedState=f}}function wu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var is={},mt=Jt(is),Wr=Jt(is),qr=Jt(is);function cn(t){if(t===is)throw Error(x(174));return t}function el(t,e){switch(Q(qr,e),Q(Wr,t),Q(mt,is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ao(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ao(e,t)}Z(mt),Q(mt,e)}function Yn(){Z(mt),Z(Wr),Z(qr)}function Bd(t){cn(qr.current);var e=cn(mt.current),n=Ao(e,t.type);e!==n&&(Q(Wr,t),Q(mt,n))}function tl(t){Wr.current===t&&(Z(mt),Z(Wr))}var te=Jt(0);function oi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var so=[];function nl(){for(var t=0;t<so.length;t++)so[t]._workInProgressVersionPrimary=null;so.length=0}var Ds=jt.ReactCurrentDispatcher,io=jt.ReactCurrentBatchConfig,mn=0,ne=null,ue=null,pe=null,ai=!1,Nr=!1,Qr=0,mm=0;function _e(){throw Error(x(321))}function rl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!at(t[n],e[n]))return!1;return!0}function sl(t,e,n,r,s,i){if(mn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ds.current=t===null||t.memoizedState===null?_m:wm,t=n(r,s),Nr){i=0;do{if(Nr=!1,Qr=0,25<=i)throw Error(x(301));i+=1,pe=ue=null,e.updateQueue=null,Ds.current=Sm,t=n(r,s)}while(Nr)}if(Ds.current=li,e=ue!==null&&ue.next!==null,mn=0,pe=ue=ne=null,ai=!1,e)throw Error(x(300));return t}function il(){var t=Qr!==0;return Qr=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ne.memoizedState=pe=t:pe=pe.next=t,pe}function Xe(){if(ue===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=pe===null?ne.memoizedState:pe.next;if(e!==null)pe=e,ue=t;else{if(t===null)throw Error(x(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},pe===null?ne.memoizedState=pe=t:pe=pe.next=t}return pe}function Yr(t,e){return typeof e=="function"?e(t):e}function oo(t){var e=Xe(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((mn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ne.lanes|=c,gn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,at(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,gn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ao(t){var e=Xe(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);at(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Md(){}function Ud(t,e){var n=ne,r=Xe(),s=e(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,ol(Vd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Hd.bind(null,n,r,s,e),void 0,null),me===null)throw Error(x(349));mn&30||Fd(n,e,s)}return s}function Fd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hd(t,e,n,r){e.value=n,e.getSnapshot=r,Gd(e)&&Kd(t)}function Vd(t,e,n){return n(function(){Gd(e)&&Kd(t)})}function Gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!at(t,n)}catch{return!0}}function Kd(t){var e=Et(t,1);e!==null&&ot(e,t,1,-1)}function Su(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},e.queue=t,t=t.dispatch=vm.bind(null,ne,t),[e.memoizedState,t]}function Jr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wd(){return Xe().memoizedState}function Bs(t,e,n,r){var s=dt();ne.flags|=t,s.memoizedState=Jr(1|e,n,void 0,r===void 0?null:r)}function xi(t,e,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&rl(r,o.deps)){s.memoizedState=Jr(e,n,i,r);return}}ne.flags|=t,s.memoizedState=Jr(1|e,n,i,r)}function ku(t,e){return Bs(8390656,8,t,e)}function ol(t,e){return xi(2048,8,t,e)}function qd(t,e){return xi(4,2,t,e)}function Qd(t,e){return xi(4,4,t,e)}function Yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jd(t,e,n){return n=n!=null?n.concat([t]):null,xi(4,4,Yd.bind(null,e,t),n)}function al(){}function Zd(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xd(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ef(t,e,n){return mn&21?(at(n,e)||(n=id(),ne.lanes|=n,gn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function gm(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=io.transition;io.transition={};try{t(!1),e()}finally{K=n,io.transition=r}}function tf(){return Xe().memoizedState}function ym(t,e,n){var r=Kt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nf(t))rf(e,n);else if(n=zd(t,e,n,r),n!==null){var s=Te();ot(n,t,r,s),sf(n,e,r)}}function vm(t,e,n){var r=Kt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nf(t))rf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var l=e.interleaved;l===null?(s.next=s,Za(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zd(t,e,s,r),n!==null&&(s=Te(),ot(n,t,r,s),sf(n,e,r))}}function nf(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function rf(t,e){Nr=ai=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Da(t,n)}}var li={readContext:Ze,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},_m={readContext:Ze,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:ku,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bs(4194308,4,Yd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bs(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ym.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:Su,useDebugValue:al,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=Su(!1),e=t[0];return t=gm.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=dt();if(X){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),me===null)throw Error(x(349));mn&30||Fd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ku(Vd.bind(null,r,i,t),[t]),r.flags|=2048,Jr(9,Hd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dt(),e=me.identifierPrefix;if(X){var n=St,r=wt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wm={readContext:Ze,useCallback:Zd,useContext:Ze,useEffect:ol,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Qd,useMemo:Xd,useReducer:oo,useRef:Wd,useState:function(){return oo(Yr)},useDebugValue:al,useDeferredValue:function(t){var e=Xe();return ef(e,ue.memoizedState,t)},useTransition:function(){var t=oo(Yr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Md,useSyncExternalStore:Ud,useId:tf,unstable_isNewReconciler:!1},Sm={readContext:Ze,useCallback:Zd,useContext:Ze,useEffect:ol,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Qd,useMemo:Xd,useReducer:ao,useRef:Wd,useState:function(){return ao(Yr)},useDebugValue:al,useDeferredValue:function(t){var e=Xe();return ue===null?e.memoizedState=t:ef(e,ue.memoizedState,t)},useTransition:function(){var t=ao(Yr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Md,useSyncExternalStore:Ud,useId:tf,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ea(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ci={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Kt(t),i=kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vt(t,i,s),e!==null&&(ot(e,t,s,r),zs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Kt(t),i=kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vt(t,i,s),e!==null&&(ot(e,t,s,r),zs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),r=Kt(t),s=kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vt(t,s,r),e!==null&&(ot(e,t,r,n),zs(e,t,r))}};function xu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hr(n,r)||!Hr(s,i):!0}function of(t,e,n){var r=!1,s=Qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=Oe(e)?hn:xe.current,r=e.contextTypes,i=(r=r!=null)?Wn(t,s):Qt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ci,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Cu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ci.enqueueReplaceState(e,e.state,null)}function ta(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=Oe(e)?hn:xe.current,s.context=Wn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ea(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ci.enqueueReplaceState(s,s.state,null),ii(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jn(t,e){try{var n="",r=e;do n+=Qh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function na(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var km=typeof WeakMap=="function"?WeakMap:Map;function af(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ci||(ci=!0,fa=r),na(t,e)},n}function lf(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){na(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){na(t,e),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Eu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new km;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Im.bind(null,t,e,n),e.then(t,t))}function Tu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ju(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,Vt(n,e,1))),n.lanes|=1),t)}var xm=jt.ReactCurrentOwner,Le=!1;function Ce(t,e,n,r){e.child=t===null?Id(e,null,n,r):Qn(e,t.child,n,r)}function bu(t,e,n,r,s){n=n.render;var i=e.ref;return Hn(e,s),r=sl(t,e,n,r,i,s),n=il(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(X&&n&&Ka(e),e.flags|=1,Ce(t,e,r,s),e.child)}function Pu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ml(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,uf(t,e,i,r,s)):(t=Hs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&t.ref===e.ref)return Tt(t,e,s)}return e.flags|=1,t=Wt(i,r),t.ref=e.ref,t.return=e,e.child=t}function uf(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Hr(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Tt(t,e,s)}return ra(t,e,n,r,s)}function cf(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Dn,De),De|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Dn,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(Dn,De),De|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Q(Dn,De),De|=r;return Ce(t,e,s,n),e.child}function df(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ra(t,e,n,r,s){var i=Oe(n)?hn:xe.current;return i=Wn(e,i),Hn(e,s),n=sl(t,e,n,r,i,s),r=il(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(X&&r&&Ka(e),e.flags|=1,Ce(t,e,n,s),e.child)}function Nu(t,e,n,r,s){if(Oe(n)){var i=!0;ei(e)}else i=!1;if(Hn(e,s),e.stateNode===null)Ms(t,e),of(e,n,r),ta(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=Oe(n)?hn:xe.current,u=Wn(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cu(e,o,r,u),At=!1;var h=e.memoizedState;o.state=h,ii(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ae.current||At?(typeof c=="function"&&(ea(e,n,c,r),l=e.memoizedState),(a=At||xu(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Dd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tt(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ze(l):(l=Oe(n)?hn:xe.current,l=Wn(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Cu(e,o,r,l),At=!1,h=e.memoizedState,o.state=h,ii(e,r,o,s);var v=e.memoizedState;a!==f||h!==v||Ae.current||At?(typeof y=="function"&&(ea(e,n,y,r),v=e.memoizedState),(u=At||xu(e,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return sa(t,e,n,r,i,s)}function sa(t,e,n,r,s,i){df(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&mu(e,n,!1),Tt(t,e,i);r=e.stateNode,xm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qn(e,t.child,null,i),e.child=Qn(e,null,a,i)):Ce(t,e,a,i),e.memoizedState=r.state,s&&mu(e,n,!0),e.child}function ff(t){var e=t.stateNode;e.pendingContext?pu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pu(t,e.context,!1),el(t,e.containerInfo)}function Ru(t,e,n,r,s){return qn(),qa(s),e.flags|=256,Ce(t,e,n,r),e.child}var ia={dehydrated:null,treeContext:null,retryLane:0};function oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function hf(t,e,n){var r=e.pendingProps,s=te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(te,s&1),t===null)return Zo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ji(o,r,0,null),t=fn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=oa(n),e.memoizedState=ia,t):ll(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Cm(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wt(a,i):(i=fn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?oa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ia,r}return i=t.child,t=i.sibling,r=Wt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ll(t,e){return e=ji({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xs(t,e,n,r){return r!==null&&qa(r),Qn(e,t.child,null,n),t=ll(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lo(Error(x(422))),xs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ji({mode:"visible",children:r.children},s,0,null),i=fn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qn(e,t.child,null,o),e.child.memoizedState=oa(o),e.memoizedState=ia,i);if(!(e.mode&1))return xs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(x(419)),r=lo(i,r,void 0),xs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Le||a){if(r=me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(t,s),ot(r,t,s,-1))}return pl(),r=lo(Error(x(421))),xs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Be=Ht(s.nextSibling),Me=e,X=!0,st=null,t!==null&&(Ke[We++]=wt,Ke[We++]=St,Ke[We++]=pn,wt=t.id,St=t.overflow,pn=e),e=ll(e,r.children),e.flags|=4096,e)}function Lu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xo(t.return,e,n)}function uo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pf(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ce(t,e,r.children,n),r=te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lu(t,n,e);else if(t.tag===19)Lu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uo(e,!0,n,null,i);break;case"together":uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Wt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Em(t,e,n){switch(e.tag){case 3:ff(e),qn();break;case 5:Bd(e);break;case 1:Oe(e.type)&&ei(e);break;case 4:el(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Q(ri,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(te,te.current&1),e.flags|=128,null):n&e.child.childLanes?hf(t,e,n):(Q(te,te.current&1),t=Tt(t,e,n),t!==null?t.sibling:null);Q(te,te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pf(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(te,te.current),r)break;return null;case 22:case 23:return e.lanes=0,cf(t,e,n)}return Tt(t,e,n)}var mf,aa,gf,yf;mf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aa=function(){};gf=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cn(mt.current);var i=null;switch(n){case"input":s=Po(t,s),r=Po(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Lo(t,s),r=Lo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zs)}Oo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ir.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ir.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yf=function(t,e,n,r){n!==r&&(e.flags|=4)};function pr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tm(t,e,n){var r=e.pendingProps;switch(Wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Oe(e.type)&&Xs(),we(e),null;case 3:return r=e.stateNode,Yn(),Z(Ae),Z(xe),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(ma(st),st=null))),aa(t,e),we(e),null;case 5:tl(e);var s=cn(qr.current);if(n=e.type,t!==null&&e.stateNode!=null)gf(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return we(e),null}if(t=cn(mt.current),Ss(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ft]=e,r[Kr]=i,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<xr.length;s++)J(xr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Ul(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":Hl(r,i),J("invalid",r)}Oo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,a,t),s=["children",""+a]):Ir.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":fs(r),Fl(r,i,!0);break;case"textarea":fs(r),Vl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Kr]=r,mf(t,e,!1,!1),e.stateNode=t;e:{switch(o=$o(n,r),n){case"dialog":J("cancel",t),J("close",t),s=r;break;case"iframe":case"object":case"embed":J("load",t),s=r;break;case"video":case"audio":for(s=0;s<xr.length;s++)J(xr[s],t);s=r;break;case"source":J("error",t),s=r;break;case"img":case"image":case"link":J("error",t),J("load",t),s=r;break;case"details":J("toggle",t),s=r;break;case"input":Ul(t,r),s=Po(t,r),J("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),J("invalid",t);break;case"textarea":Hl(t,r),s=Lo(t,r),J("invalid",t);break;default:s=r}Oo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zr(t,l):typeof l=="number"&&zr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ir.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",t):l!=null&&La(t,i,l,o))}switch(n){case"input":fs(t),Fl(t,r,!1);break;case"textarea":fs(t),Vl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)yf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=cn(qr.current),cn(mt.current),Ss(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(i=r.nodeValue!==n)&&(t=Me,t!==null))switch(t.tag){case 3:ws(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return we(e),null;case 13:if(Z(te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Be!==null&&e.mode&1&&!(e.flags&128))Od(),qn(),e.flags|=98560,i=!1;else if(i=Ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[ft]=e}else qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),i=!1}else st!==null&&(ma(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||te.current&1?de===0&&(de=3):pl())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return Yn(),aa(t,e),t===null&&Vr(e.stateNode.containerInfo),we(e),null;case 10:return Ja(e.type._context),we(e),null;case 17:return Oe(e.type)&&Xs(),we(e),null;case 19:if(Z(te),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pr(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oi(t),o!==null){for(e.flags|=128,pr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(te,te.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Zn&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304)}else{if(!r)if(t=oi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return we(e),null}else 2*ae()-i.renderingStartTime>Zn&&n!==1073741824&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=te.current,Q(te,r?n&1|2:n&1),e):(we(e),null);case 22:case 23:return hl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?De&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function jm(t,e){switch(Wa(e),e.tag){case 1:return Oe(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(),Z(Ae),Z(xe),nl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tl(e),null;case 13:if(Z(te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(te),null;case 4:return Yn(),null;case 10:return Ja(e.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var Cs=!1,ke=!1,bm=typeof WeakSet=="function"?WeakSet:Set,j=null;function zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function la(t,e,n){try{n()}catch(r){se(t,e,r)}}var Au=!1;function Pm(t,e){if(Go=Qs,t=Sd(),Ga(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ko={focusedElem:t,selectionRange:n},Qs=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,E=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?S:tt(e.type,S),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(_){se(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return v=Au,Au=!1,v}function Rr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&la(e,n,i)}s=s.next}while(s!==r)}}function Ei(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ua(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vf(t){var e=t.alternate;e!==null&&(t.alternate=null,vf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Kr],delete e[Qo],delete e[dm],delete e[fm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _f(t){return t.tag===5||t.tag===3||t.tag===4}function Ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_f(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zs));else if(r!==4&&(t=t.child,t!==null))for(ca(t,e,n),t=t.sibling;t!==null;)ca(t,e,n),t=t.sibling}function da(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(da(t,e,n),t=t.sibling;t!==null;)da(t,e,n),t=t.sibling}var ge=null,nt=!1;function bt(t,e,n){for(n=n.child;n!==null;)wf(t,e,n),n=n.sibling}function wf(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 5:ke||zn(n,e);case 6:var r=ge,s=nt;ge=null,bt(t,e,n),ge=r,nt=s,ge!==null&&(nt?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(nt?(t=ge,n=n.stateNode,t.nodeType===8?no(t.parentNode,n):t.nodeType===1&&no(t,n),Ur(t)):no(ge,n.stateNode));break;case 4:r=ge,s=nt,ge=n.stateNode.containerInfo,nt=!0,bt(t,e,n),ge=r,nt=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&la(n,e,o),s=s.next}while(s!==r)}bt(t,e,n);break;case 1:if(!ke&&(zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){se(n,e,a)}bt(t,e,n);break;case 21:bt(t,e,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,bt(t,e,n),ke=r):bt(t,e,n);break;default:bt(t,e,n)}}function $u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bm),e.forEach(function(r){var s=Dm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,nt=!1;break e;case 3:ge=a.stateNode.containerInfo,nt=!0;break e;case 4:ge=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(ge===null)throw Error(x(160));wf(i,o,s),ge=null,nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sf(e,t),e=e.sibling}function Sf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),ut(t),r&4){try{Rr(3,t,t.return),Ei(3,t)}catch(S){se(t,t.return,S)}try{Rr(5,t,t.return)}catch(S){se(t,t.return,S)}}break;case 1:et(e,t),ut(t),r&512&&n!==null&&zn(n,n.return);break;case 5:if(et(e,t),ut(t),r&512&&n!==null&&zn(n,n.return),t.flags&32){var s=t.stateNode;try{zr(s,"")}catch(S){se(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fc(s,i),$o(a,o);var u=$o(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Wc(s,f):c==="dangerouslySetInnerHTML"?Gc(s,f):c==="children"?zr(s,f):La(s,c,f,u)}switch(a){case"input":No(s,i);break;case"textarea":Hc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Bn(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Bn(s,!!i.multiple,i.defaultValue,!0):Bn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kr]=i}catch(S){se(t,t.return,S)}}break;case 6:if(et(e,t),ut(t),r&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){se(t,t.return,S)}}break;case 3:if(et(e,t),ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ur(e.containerInfo)}catch(S){se(t,t.return,S)}break;case 4:et(e,t),ut(t);break;case 13:et(e,t),ut(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dl=ae())),r&4&&$u(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ke=(u=ke)||c,et(e,t),ke=u):et(e,t),ut(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(f=j=c;j!==null;){switch(h=j,y=h.child,h.tag){case 0:case 11:case 14:case 15:Rr(4,h,h.return);break;case 1:zn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){se(r,n,S)}}break;case 5:zn(h,h.return);break;case 22:if(h.memoizedState!==null){zu(f);continue}}y!==null?(y.return=h,j=y):zu(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kc("display",o))}catch(S){se(t,t.return,S)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){se(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:et(e,t),ut(t),r&4&&$u(t);break;case 21:break;default:et(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_f(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zr(s,""),r.flags&=-33);var i=Ou(t);da(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ou(t);ca(t,a,o);break;default:throw Error(x(161))}}catch(l){se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nm(t,e,n){j=t,kf(t)}function kf(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ke;a=Cs;var u=ke;if(Cs=o,(ke=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Du(s):l!==null?(l.return=o,j=l):Du(s);for(;i!==null;)j=i,kf(i),i=i.sibling;j=s,Cs=a,ke=u}Iu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Iu(t)}}function Iu(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||Ei(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ur(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ke||e.flags&512&&ua(e)}catch(h){se(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function zu(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Du(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ei(4,e)}catch(l){se(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){se(e,s,l)}}var i=e.return;try{ua(e)}catch(l){se(e,i,l)}break;case 5:var o=e.return;try{ua(e)}catch(l){se(e,o,l)}}}catch(l){se(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Rm=Math.ceil,ui=jt.ReactCurrentDispatcher,ul=jt.ReactCurrentOwner,Ye=jt.ReactCurrentBatchConfig,V=0,me=null,le=null,ye=0,De=0,Dn=Jt(0),de=0,Zr=null,gn=0,Ti=0,cl=0,Lr=null,Ne=null,dl=0,Zn=1/0,gt=null,ci=!1,fa=null,Gt=null,Es=!1,Bt=null,di=0,Ar=0,ha=null,Us=-1,Fs=0;function Te(){return V&6?ae():Us!==-1?Us:Us=ae()}function Kt(t){return t.mode&1?V&2&&ye!==0?ye&-ye:pm.transition!==null?(Fs===0&&(Fs=id()),Fs):(t=K,t!==0||(t=window.event,t=t===void 0?16:fd(t.type)),t):1}function ot(t,e,n,r){if(50<Ar)throw Ar=0,ha=null,Error(x(185));ns(t,n,r),(!(V&2)||t!==me)&&(t===me&&(!(V&2)&&(Ti|=n),de===4&&It(t,ye)),$e(t,r),n===1&&V===0&&!(e.mode&1)&&(Zn=ae()+500,ki&&Zt()))}function $e(t,e){var n=t.callbackNode;pp(t,e);var r=qs(t,t===me?ye:0);if(r===0)n!==null&&Wl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wl(n),e===1)t.tag===0?hm(Bu.bind(null,t)):Rd(Bu.bind(null,t)),um(function(){!(V&6)&&Zt()}),n=null;else{switch(od(r)){case 1:n=za;break;case 4:n=rd;break;case 16:n=Ws;break;case 536870912:n=sd;break;default:n=Ws}n=Nf(n,xf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xf(t,e){if(Us=-1,Fs=0,V&6)throw Error(x(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=qs(t,t===me?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fi(t,r);else{e=r;var s=V;V|=2;var i=Ef();(me!==t||ye!==e)&&(gt=null,Zn=ae()+500,dn(t,e));do try{Om();break}catch(a){Cf(t,a)}while(!0);Ya(),ui.current=i,V=s,le!==null?e=0:(me=null,ye=0,e=de)}if(e!==0){if(e===2&&(s=Mo(t),s!==0&&(r=s,e=pa(t,s))),e===1)throw n=Zr,dn(t,0),It(t,r),$e(t,ae()),n;if(e===6)It(t,r);else{if(s=t.current.alternate,!(r&30)&&!Lm(s)&&(e=fi(t,r),e===2&&(i=Mo(t),i!==0&&(r=i,e=pa(t,i))),e===1))throw n=Zr,dn(t,0),It(t,r),$e(t,ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:rn(t,Ne,gt);break;case 3:if(It(t,r),(r&130023424)===r&&(e=dl+500-ae(),10<e)){if(qs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Te(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qo(rn.bind(null,t,Ne,gt),e);break}rn(t,Ne,gt);break;case 4:if(It(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rm(r/1960))-r,10<r){t.timeoutHandle=qo(rn.bind(null,t,Ne,gt),r);break}rn(t,Ne,gt);break;case 5:rn(t,Ne,gt);break;default:throw Error(x(329))}}}return $e(t,ae()),t.callbackNode===n?xf.bind(null,t):null}function pa(t,e){var n=Lr;return t.current.memoizedState.isDehydrated&&(dn(t,e).flags|=256),t=fi(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&ma(e)),t}function ma(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function Lm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~cl,e&=~Ti,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Bu(t){if(V&6)throw Error(x(327));Vn();var e=qs(t,0);if(!(e&1))return $e(t,ae()),null;var n=fi(t,e);if(t.tag!==0&&n===2){var r=Mo(t);r!==0&&(e=r,n=pa(t,r))}if(n===1)throw n=Zr,dn(t,0),It(t,e),$e(t,ae()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,Ne,gt),$e(t,ae()),null}function fl(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Zn=ae()+500,ki&&Zt())}}function yn(t){Bt!==null&&Bt.tag===0&&!(V&6)&&Vn();var e=V;V|=1;var n=Ye.transition,r=K;try{if(Ye.transition=null,K=1,t)return t()}finally{K=r,Ye.transition=n,V=e,!(V&6)&&Zt()}}function hl(){De=Dn.current,Z(Dn)}function dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lm(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:Yn(),Z(Ae),Z(xe),nl();break;case 5:tl(r);break;case 4:Yn();break;case 13:Z(te);break;case 19:Z(te);break;case 10:Ja(r.type._context);break;case 22:case 23:hl()}n=n.return}if(me=t,le=t=Wt(t.current,null),ye=De=e,de=0,Zr=null,cl=Ti=gn=0,Ne=Lr=null,un!==null){for(e=0;e<un.length;e++)if(n=un[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}un=null}return t}function Cf(t,e){do{var n=le;try{if(Ya(),Ds.current=li,ai){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ai=!1}if(mn=0,pe=ue=ne=null,Nr=!1,Qr=0,ul.current=null,n===null||n.return===null){de=1,Zr=e,le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Tu(o);if(y!==null){y.flags&=-257,ju(y,o,a,i,e),y.mode&1&&Eu(i,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){Eu(i,u,e),pl();break e}l=Error(x(426))}}else if(X&&a.mode&1){var E=Tu(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ju(E,o,a,i,e),qa(Jn(l,a));break e}}i=l=Jn(l,a),de!==4&&(de=2),Lr===null?Lr=[i]:Lr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=af(i,l,e);_u(i,m);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gt===null||!Gt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=lf(i,a,e);_u(i,_);break e}}i=i.return}while(i!==null)}jf(n)}catch(k){e=k,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Ef(){var t=ui.current;return ui.current=li,t===null?li:t}function pl(){(de===0||de===3||de===2)&&(de=4),me===null||!(gn&268435455)&&!(Ti&268435455)||It(me,ye)}function fi(t,e){var n=V;V|=2;var r=Ef();(me!==t||ye!==e)&&(gt=null,dn(t,e));do try{Am();break}catch(s){Cf(t,s)}while(!0);if(Ya(),V=n,ui.current=r,le!==null)throw Error(x(261));return me=null,ye=0,de}function Am(){for(;le!==null;)Tf(le)}function Om(){for(;le!==null&&!ip();)Tf(le)}function Tf(t){var e=Pf(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?jf(t):le=e,ul.current=null}function jf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jm(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(n=Tm(n,e,De),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function rn(t,e,n){var r=K,s=Ye.transition;try{Ye.transition=null,K=1,$m(t,e,n,r)}finally{Ye.transition=s,K=r}return null}function $m(t,e,n,r){do Vn();while(Bt!==null);if(V&6)throw Error(x(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mp(t,i),t===me&&(le=me=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Es||(Es=!0,Nf(Ws,function(){return Vn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ye.transition,Ye.transition=null;var o=K;K=1;var a=V;V|=4,ul.current=null,Pm(t,n),Sf(n,t),tm(Ko),Qs=!!Go,Ko=Go=null,t.current=n,Nm(n),op(),V=a,K=o,Ye.transition=i}else t.current=n;if(Es&&(Es=!1,Bt=t,di=s),i=t.pendingLanes,i===0&&(Gt=null),up(n.stateNode),$e(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ci)throw ci=!1,t=fa,fa=null,t;return di&1&&t.tag!==0&&Vn(),i=t.pendingLanes,i&1?t===ha?Ar++:(Ar=0,ha=t):Ar=0,Zt(),null}function Vn(){if(Bt!==null){var t=od(di),e=Ye.transition,n=K;try{if(Ye.transition=null,K=16>t?16:t,Bt===null)var r=!1;else{if(t=Bt,Bt=null,di=0,V&6)throw Error(x(331));var s=V;for(V|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Rr(8,c,i)}var f=c.child;if(f!==null)f.return=c,j=f;else for(;j!==null;){c=j;var h=c.sibling,y=c.return;if(vf(c),c===u){j=null;break}if(h!==null){h.return=y,j=h;break}j=y}}}var v=i.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){o=j;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,j=g;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ei(9,a)}}catch(k){se(a,a.return,k)}if(a===o){j=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,j=_;break e}j=a.return}}if(V=s,Zt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(yi,t)}catch{}r=!0}return r}finally{K=n,Ye.transition=e}}return!1}function Mu(t,e,n){e=Jn(n,e),e=af(t,e,1),t=Vt(t,e,1),e=Te(),t!==null&&(ns(t,1,e),$e(t,e))}function se(t,e,n){if(t.tag===3)Mu(t,t,n);else for(;e!==null;){if(e.tag===3){Mu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){t=Jn(n,t),t=lf(e,t,1),e=Vt(e,t,1),t=Te(),e!==null&&(ns(e,1,t),$e(e,t));break}}e=e.return}}function Im(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,me===t&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>ae()-dl?dn(t,0):cl|=n),$e(t,e)}function bf(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var n=Te();t=Et(t,e),t!==null&&(ns(t,e,n),$e(t,n))}function zm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bf(t,n)}function Dm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),bf(t,n)}var Pf;Pf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,Em(t,e,n);Le=!!(t.flags&131072)}else Le=!1,X&&e.flags&1048576&&Ld(e,ni,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ms(t,e),t=e.pendingProps;var s=Wn(e,xe.current);Hn(e,n),s=sl(null,e,r,t,s,n);var i=il();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(r)?(i=!0,ei(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xa(e),s.updater=Ci,e.stateNode=s,s._reactInternals=e,ta(e,r,t,n),e=sa(null,e,r,!0,i,n)):(e.tag=0,X&&i&&Ka(e),Ce(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ms(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Mm(r),t=tt(r,t),s){case 0:e=ra(null,e,r,t,n);break e;case 1:e=Nu(null,e,r,t,n);break e;case 11:e=bu(null,e,r,t,n);break e;case 14:e=Pu(null,e,r,tt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),ra(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Nu(t,e,r,s,n);case 3:e:{if(ff(e),t===null)throw Error(x(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dd(t,e),ii(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jn(Error(x(423)),e),e=Ru(t,e,r,n,s);break e}else if(r!==s){s=Jn(Error(x(424)),e),e=Ru(t,e,r,n,s);break e}else for(Be=Ht(e.stateNode.containerInfo.firstChild),Me=e,X=!0,st=null,n=Id(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===s){e=Tt(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 5:return Bd(e),t===null&&Zo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wo(r,s)?o=null:i!==null&&Wo(r,i)&&(e.flags|=32),df(t,e),Ce(t,e,o,n),e.child;case 6:return t===null&&Zo(e),null;case 13:return hf(t,e,n);case 4:return el(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qn(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),bu(t,e,r,s,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Q(ri,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Ae.current){e=Tt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Xo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hn(e,n),s=Ze(s),r=r(s),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),Pu(t,e,r,s,n);case 15:return uf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Ms(t,e),e.tag=1,Oe(r)?(t=!0,ei(e)):t=!1,Hn(e,n),of(e,r,s),ta(e,r,s,n),sa(null,e,r,!0,t,n);case 19:return pf(t,e,n);case 22:return cf(t,e,n)}throw Error(x(156,e.tag))};function Nf(t,e){return nd(t,e)}function Bm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new Bm(t,e,n,r)}function ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mm(t){if(typeof t=="function")return ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oa)return 11;if(t===$a)return 14}return 2}function Wt(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ml(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bn:return fn(n.children,s,i,e);case Aa:o=8,s|=8;break;case Eo:return t=qe(12,n,e,s|2),t.elementType=Eo,t.lanes=i,t;case To:return t=qe(13,n,e,s),t.elementType=To,t.lanes=i,t;case jo:return t=qe(19,n,e,s),t.elementType=jo,t.lanes=i,t;case Bc:return ji(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zc:o=10;break e;case Dc:o=9;break e;case Oa:o=11;break e;case $a:o=14;break e;case Lt:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=qe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fn(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function ji(t,e,n,r){return t=qe(22,t,r,e),t.elementType=Bc,t.lanes=n,t.stateNode={isHidden:!1},t}function co(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function fo(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Um(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gl(t,e,n,r,s,i,o,a,l){return t=new Um(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(i),t}function Fm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rf(t){if(!t)return Qt;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Oe(n))return Nd(t,n,e)}return e}function Lf(t,e,n,r,s,i,o,a,l){return t=gl(n,r,!0,t,s,i,o,a,l),t.context=Rf(null),n=t.current,r=Te(),s=Kt(n),i=kt(r,s),i.callback=e??null,Vt(n,i,s),t.current.lanes=s,ns(t,s,r),$e(t,r),t}function bi(t,e,n,r){var s=e.current,i=Te(),o=Kt(s);return n=Rf(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vt(s,e,o),t!==null&&(ot(t,s,o,i),zs(t,s,o)),o}function hi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yl(t,e){Uu(t,e),(t=t.alternate)&&Uu(t,e)}var Af=typeof reportError=="function"?reportError:function(t){console.error(t)};function vl(t){this._internalRoot=t}Pi.prototype.render=vl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));bi(t,e,null,null)};Pi.prototype.unmount=vl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yn(function(){bi(null,t,null,null)}),e[Ct]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=ud();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$t.length&&e!==0&&e<$t[n].priority;n++);$t.splice(n,0,t),n===0&&dd(t)}};function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ni(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fu(){}function Hm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=hi(o);i.call(u)}}var o=Lf(e,r,t,0,null,!1,!1,"",Fu);return t._reactRootContainer=o,t[Ct]=o.current,Vr(t.nodeType===8?t.parentNode:t),yn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=hi(l);a.call(u)}}var l=gl(t,0,!1,null,null,!1,!1,"",Fu);return t._reactRootContainer=l,t[Ct]=l.current,Vr(t.nodeType===8?t.parentNode:t),yn(function(){bi(e,l,n,r)}),l}function Ri(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hi(o);a.call(l)}}bi(e,o,t,s)}else o=Hm(n,e,t,s,r);return hi(o)}ad=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kr(e.pendingLanes);n!==0&&(Da(e,n|1),$e(e,ae()),!(V&6)&&(Zn=ae()+500,Zt()))}break;case 13:yn(function(){var r=Et(t,1);if(r!==null){var s=Te();ot(r,t,1,s)}}),yl(t,1)}};Ba=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var n=Te();ot(e,t,134217728,n)}yl(t,134217728)}};ld=function(t){if(t.tag===13){var e=Kt(t),n=Et(t,e);if(n!==null){var r=Te();ot(n,t,e,r)}yl(t,e)}};ud=function(){return K};cd=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};zo=function(t,e,n){switch(e){case"input":if(No(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Si(r);if(!s)throw Error(x(90));Uc(r),No(r,s)}}}break;case"textarea":Hc(t,n);break;case"select":e=n.value,e!=null&&Bn(t,!!n.multiple,e,!1)}};Yc=fl;Jc=yn;var Vm={usingClientEntryPoint:!1,Events:[ss,Ln,Si,qc,Qc,fl]},mr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gm={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ed(t),t===null?null:t.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{yi=Ts.inject(Gm),pt=Ts}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vm;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_l(e))throw Error(x(200));return Fm(t,e,null,n)};Fe.createRoot=function(t,e){if(!_l(t))throw Error(x(299));var n=!1,r="",s=Af;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gl(t,1,!1,null,null,n,!1,r,s),t[Ct]=e.current,Vr(t.nodeType===8?t.parentNode:t),new vl(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=ed(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return yn(t)};Fe.hydrate=function(t,e,n){if(!Ni(e))throw Error(x(200));return Ri(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!_l(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Af;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lf(e,null,t,1,n??null,s,!1,i,o),t[Ct]=e.current,Vr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Fe.render=function(t,e,n){if(!Ni(e))throw Error(x(200));return Ri(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!Ni(t))throw Error(x(40));return t._reactRootContainer?(yn(function(){Ri(null,null,t,!1,function(){t._reactRootContainer=null,t[Ct]=null})}),!0):!1};Fe.unstable_batchedUpdates=fl;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ni(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Ri(t,e,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function Of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Of)}catch(t){console.error(t)}}Of(),Ac.exports=Fe;var Km=Ac.exports,Hu=Km;xo.createRoot=Hu.createRoot,xo.hydrateRoot=Hu.hydrateRoot;var ce=(t=>(t.I="I",t.O="O",t.T="T",t.S="S",t.Z="Z",t.J="J",t.L="L",t))(ce||{});const Qe=10,Ee=40,Tn=20,$f={das:167,arr:33,sdf:20},ho=500,Wm=15,Vu=1,qm=5,Gu=8,Qm=100,Ym=3,Jm=["I","O","T","S","Z","J","L"],wl={[ce.I]:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[ce.O]:[[1,1],[1,1]],[ce.T]:[[0,1,0],[1,1,1],[0,0,0]],[ce.S]:[[0,1,1],[1,1,0],[0,0,0]],[ce.Z]:[[1,1,0],[0,1,1],[0,0,0]],[ce.J]:[[1,0,0],[1,1,1],[0,0,0]],[ce.L]:[[0,0,1],[1,1,1],[0,0,0]]},Sl={[ce.I]:"#00f0f0",[ce.O]:"#f0f000",[ce.T]:"#a000f0",[ce.S]:"#00f000",[ce.Z]:"#f00000",[ce.J]:"#4080ff",[ce.L]:"#f0a000"};function Zm(t){const n=wl[t][0],r=n?n.length:4;return{x:Math.floor((Qe-r)/2),y:18}}function Xm(t,e){let n=wl[t].map(r=>[...r]);if(t===ce.O)return n;for(let r=0;r<e;r++)n=eg(n);return n}function eg(t){const e=t.length,n=[];for(let r=0;r<e;r++){const s=[];for(let i=0;i<e;i++){const o=t[e-1-i];s.push(o?o[r]??0:0)}n.push(s)}return n}function Xn(t){const e=Xm(t.type,t.rotation),n=[];for(let r=0;r<e.length;r++){const s=e[r];if(s)for(let i=0;i<s.length;i++)s[i]&&n.push({x:t.position.x+i,y:t.position.y+r})}return n}const Ku={"0->1":[{x:-1,y:0},{x:-1,y:-1},{x:0,y:2},{x:-1,y:2}],"1->0":[{x:1,y:0},{x:1,y:1},{x:0,y:-2},{x:1,y:-2}],"1->2":[{x:1,y:0},{x:1,y:1},{x:0,y:-2},{x:1,y:-2}],"2->1":[{x:-1,y:0},{x:-1,y:-1},{x:0,y:2},{x:-1,y:2}],"2->3":[{x:1,y:0},{x:1,y:-1},{x:0,y:2},{x:1,y:2}],"3->2":[{x:-1,y:0},{x:-1,y:1},{x:0,y:-2},{x:-1,y:-2}],"3->0":[{x:-1,y:0},{x:-1,y:1},{x:0,y:-2},{x:-1,y:-2}],"0->3":[{x:1,y:0},{x:1,y:-1},{x:0,y:2},{x:1,y:2}]},tg={"0->1":[{x:-2,y:0},{x:1,y:0},{x:-2,y:1},{x:1,y:-2}],"1->0":[{x:2,y:0},{x:-1,y:0},{x:2,y:-1},{x:-1,y:2}],"1->2":[{x:-1,y:0},{x:2,y:0},{x:-1,y:-2},{x:2,y:1}],"2->1":[{x:1,y:0},{x:-2,y:0},{x:1,y:2},{x:-2,y:-1}],"2->3":[{x:2,y:0},{x:-1,y:0},{x:2,y:-1},{x:-1,y:2}],"3->2":[{x:-2,y:0},{x:1,y:0},{x:-2,y:1},{x:1,y:-2}],"3->0":[{x:1,y:0},{x:-2,y:0},{x:1,y:2},{x:-2,y:-1}],"0->3":[{x:-1,y:0},{x:2,y:0},{x:-1,y:-2},{x:2,y:1}]};function ng(t,e,n){if(t===ce.O)return[];const r=`${e}->${n}`;return r in Ku?t===ce.I?tg[r]||[]:Ku[r]||[]:[]}function rg(t,e){return e?(t+1)%4:(t+3)%4}function Wu(t){return{type:t,position:Zm(t),rotation:0}}function pi(t,e){return{...t,position:{...t.position},...e}}function sg(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),s=e[n];e[n]=e[r],e[r]=s}return e}function qu(){let t=[];return()=>(t.length===0&&(t=sg([...Jm])),t.pop())}function ig(){const t=[];for(let e=0;e<Ee;e++)t.push(new Array(Qe).fill(null));return t}function If(t){return t.map(e=>[...e])}function og(t,e){return t>=0&&t<Qe&&e>=0&&e<Ee}function er(t,e,n=0,r=0,s){const i={...e,position:{x:e.position.x+n,y:e.position.y+r},rotation:s??e.rotation},o=Xn(i);for(const a of o){if(a.x<0||a.x>=Qe||a.y<0||a.y>=Ee)return!0;const l=t[a.y];if(!l||l[a.x]!==null)return!0}return!1}function Qu(t,e){return!er(t,e)}function Yu(t,e,n,r){return er(t,e,n,r)?null:pi(e,{position:{x:e.position.x+n,y:e.position.y+r}})}function po(t,e){return er(t,e,0,1)}function ga(t,e,n){const r=rg(e.rotation,n);if(!er(t,e,0,0,r))return{piece:pi(e,{rotation:r}),wallKickUsed:!1,wallKickIndex:0};const s=ng(e.type,e.rotation,r);for(let i=0;i<s.length;i++){const o=s[i];if(o&&!er(t,e,o.x,-o.y,r))return{piece:pi(e,{position:{x:e.position.x+o.x,y:e.position.y-o.y},rotation:r}),wallKickUsed:!0,wallKickIndex:i+1}}return null}function ag(t,e){const n=ga(t,e,!0);if(!n)return null;const r=ga(t,n.piece,!0);return r?{piece:r.piece,wallKickUsed:n.wallKickUsed||r.wallKickUsed,wallKickIndex:r.wallKickIndex}:null}function sn(t,e){let n=e.position.y;for(;!er(t,e,0,n-e.position.y+1);)n++;return n}function lg(t,e){const n=sn(t,e),r=n-e.position.y;return{piece:pi(e,{position:{...e.position,y:n}}),distance:r}}function ug(t,e){const n=If(t),r=Xn(e);for(const s of r)if(og(s.x,s.y)){const i=n[s.y];i&&(i[s.x]=e.type)}return n}function cg(t,e=0){const n=[],r=Ee-e;for(let s=0;s<r;s++){const i=t[s];i&&i.every(o=>o!==null)&&n.push(s)}return n}function dg(t,e){if(e.length===0)return t;const r=If(t).filter((i,o)=>!e.includes(o)),s=[];for(let i=0;i<e.length;i++)s.push(new Array(Qe).fill(null));return[...s,...r]}function fg(t,e,n){if(e.length===0)return t;const r=Ee-n,s=[];for(let h=0;h<r;h++)if(!e.includes(h)){const y=t[h];s.push(y?[...y]:new Array(Qe).fill(null))}const i=e.map(h=>{const y=t[h];return y?[...y]:new Array(Qe).fill(null)}),o=[];for(let h=r;h<Ee;h++){const y=t[h];o.push(y?[...y]:new Array(Qe).fill(null))}const a=n+e.length,u=Ee-a-s.length,c=[];for(let h=0;h<u;h++)c.push(new Array(Qe).fill(null));const f=[...c,...s,...i,...o];return f.length!==Ee&&console.error(`zonePushLinesToBottom: Board height mismatch! Got ${f.length}, expected ${Ee}`),f}function hg(t,e){if(e===0)return t;const n=t.slice(0,Ee-e),r=[];for(let s=0;s<e;s++)r.push(new Array(Qe).fill(null));return[...r,...n]}function Ju(t){return t.every(e=>e.every(n=>n===null))}function js(t,e,n){if(e<0||e>=Qe||n<0||n>=Ee)return!0;const r=t[n];return r?r[e]!==null:!0}function pg(t,e,n){if(e.type!==ce.T)return null;const{x:r,y:s}=e.position,i={x:r,y:s},o={x:r+2,y:s},a={x:r,y:s+2},l={x:r+2,y:s+2},u=[js(t,i.x,i.y),js(t,o.x,o.y),js(t,a.x,a.y),js(t,l.x,l.y)],c=u.filter(Boolean).length;if(c<3)return null;let f;switch(e.rotation){case 0:f=[u[0],u[1]].filter(Boolean).length;break;case 1:f=[u[1],u[3]].filter(Boolean).length;break;case 2:f=[u[2],u[3]].filter(Boolean).length;break;case 3:f=[u[0],u[2]].filter(Boolean).length;break;default:f=0}return f===2?"full":f===1&&c>=3?n?"full":"mini":null}function Zu(t,e,n){if(n)return"allClear";if(e==="mini")switch(t){case 0:return"tSpinMini";case 1:return"tSpinMiniSingle";case 2:return"tSpinMiniDouble";default:return"tSpinMiniDouble"}if(e==="full")switch(t){case 0:return"tSpin";case 1:return"tSpinSingle";case 2:return"tSpinDouble";case 3:return"tSpinTriple";default:return"tSpinTriple"}switch(t){case 1:return"single";case 2:return"double";case 3:return"triple";case 4:return"tetris";default:return"single"}}function mo(t){return t==="tetris"||t==="tSpinSingle"||t==="tSpinDouble"||t==="tSpinTriple"||t==="tSpinMiniSingle"||t==="tSpinMiniDouble"||t==="allClear"}class mg{constructor(e){I(this,"state");I(this,"listeners",[]);I(this,"bagGenerator");I(this,"lastFrameTime",0);I(this,"gravityAccumulator",0);I(this,"lastRotationWasWallKick",!1);this.bagGenerator=qu(),this.state=this.createInitialState(e)}createInitialState(e){const n=[];for(let r=0;r<5;r++)n.push(this.bagGenerator());return{phase:"idle",board:ig(),currentPiece:null,ghostY:0,holdPiece:null,canHold:!0,nextPieces:n,score:0,level:(e==null?void 0:e.speedCurve.startLevel)??1,linesCleared:0,lock:this.createLockState(),combo:this.createComboState(),zone:this.createZoneState(),lastClear:null,stage:e??null}}createLockState(){return{isLocking:!1,lockTimer:ho,moveResets:0,lowestY:0}}createComboState(){return{count:0,backToBack:!1,lastClearType:null}}createZoneState(){return{mode:"inactive",meter:0,timeRemaining:0,maxTime:0,linesCleared:0,scoreBuffer:0,wasFullMeter:!1,linesSinceLastQuarter:0}}getState(){return this.state}addEventListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(n=>n!==e)}}emit(e){for(const n of this.listeners)n(e)}start(){this.state.phase==="idle"&&(this.state={...this.state,phase:"playing"},this.spawnNextPiece())}pause(){this.state.phase==="playing"?this.state={...this.state,phase:"paused"}:this.state.phase==="paused"&&(this.state={...this.state,phase:"playing"})}restart(e){this.bagGenerator=qu(),this.state=this.createInitialState(e??this.state.stage??void 0),this.lastRotationWasWallKick=!1,this.gravityAccumulator=0}gameOver(){this.state={...this.state,phase:"gameOver"},this.emit({type:"gameOver",finalScore:this.state.score})}spawnNextPiece(){const e=this.state.nextPieces[0];if(!e){this.gameOver();return}const n=Wu(e);if(!Qu(this.state.board,n)){this.gameOver();return}const r=[...this.state.nextPieces.slice(1),this.bagGenerator()];this.state={...this.state,currentPiece:n,ghostY:sn(this.state.board,n),nextPieces:r,canHold:!0,lock:this.createLockState()},this.lastRotationWasWallKick=!1,this.emit({type:"pieceSpawned",piece:n})}handleInput(e){if(this.state.phase!=="playing"&&this.state.phase!=="zoneActive"){e==="pause"&&this.state.phase==="paused"&&this.pause();return}if(this.state.currentPiece)switch(e){case"moveLeft":this.move(-1,0);break;case"moveRight":this.move(1,0);break;case"softDrop":this.move(0,1,!0);break;case"hardDrop":this.doHardDrop();break;case"rotateCW":this.rotate(!0);break;case"rotateCCW":this.rotate(!1);break;case"rotate180":this.rotate180();break;case"hold":this.hold();break;case"zone":this.activateZone();break;case"pause":this.pause();break}}move(e,n,r=!1){if(!this.state.currentPiece)return;const s=Yu(this.state.board,this.state.currentPiece,e,n);s?(this.state.currentPiece=s,this.state.ghostY=sn(this.state.board,s),r&&(this.state.score+=1),e!==0&&po(this.state.board,s)&&this.resetLockDelay(s.position.y),n>0&&(this.state.lock.isLocking=!1),this.lastRotationWasWallKick=!1,this.emit({type:"pieceMoved",piece:s})):n>0&&this.startLock()}rotate(e){if(!this.state.currentPiece)return;const n=ga(this.state.board,this.state.currentPiece,e);n&&(this.state.currentPiece=n.piece,this.state.ghostY=sn(this.state.board,n.piece),this.lastRotationWasWallKick=n.wallKickUsed,po(this.state.board,n.piece)&&this.resetLockDelay(n.piece.position.y),this.emit({type:"pieceRotated",piece:n.piece,wallKick:n.wallKickUsed}))}rotate180(){if(!this.state.currentPiece)return;const e=ag(this.state.board,this.state.currentPiece);e&&(this.state.currentPiece=e.piece,this.state.ghostY=sn(this.state.board,e.piece),this.lastRotationWasWallKick=e.wallKickUsed,po(this.state.board,e.piece)&&this.resetLockDelay(e.piece.position.y),this.emit({type:"pieceRotated",piece:e.piece,wallKick:e.wallKickUsed}))}doHardDrop(){if(!this.state.currentPiece)return;const{piece:e,distance:n}=lg(this.state.board,this.state.currentPiece);this.state.currentPiece=e,this.state.score+=n*2,this.emit({type:"pieceMoved",piece:e}),this.lockCurrentPiece()}hold(){if(!this.state.canHold||!this.state.currentPiece)return;const e=this.state.currentPiece.type;if(this.state.holdPiece===null)this.state={...this.state,holdPiece:e,canHold:!1},this.spawnNextPiece();else{const n=this.state.holdPiece,r=Wu(n);if(!Qu(this.state.board,r))return;this.state={...this.state,currentPiece:r,ghostY:sn(this.state.board,r),holdPiece:e,canHold:!1,lock:this.createLockState()}}this.lastRotationWasWallKick=!1,this.emit({type:"hold",piece:e})}startLock(){if(this.state.lock.isLocking)return;const e=this.state.currentPiece;e&&(this.state.lock.isLocking=!0,this.state.lock.lockTimer=ho,this.state.lock.lowestY=e.position.y)}resetLockDelay(e){const n=this.state.lock;n.moveResets>=Wm||e<n.lowestY||(n.lockTimer=ho,n.moveResets+=1,n.lowestY=Math.max(n.lowestY,e))}lockCurrentPiece(){if(!this.state.currentPiece)return;const e=this.state.currentPiece,n=pg(this.state.board,e,this.lastRotationWasWallKick);let r=ug(this.state.board,e);this.emit({type:"pieceLocked",piece:e});const s=this.state.phase==="zoneActive"?this.state.zone.linesCleared:0,i=cg(r,s);i.length>0||n?this.handleLineClear(r,i,n):(this.state={...this.state,board:r,currentPiece:null,combo:{...this.state.combo,count:0}},this.spawnNextPiece())}handleLineClear(e,n,r){if(this.state.phase==="zoneActive"&&n.length>0){this.handleZoneLineClear(e,n,r);return}const i=dg(e,n),o=n.length>0&&Ju(i),a=Zu(n.length,r,o),l=mo(a),u={count:n.length>0?this.state.combo.count+1:0,backToBack:n.length>0&&l&&this.state.combo.lastClearType!==null&&mo(this.state.combo.lastClearType),lastClearType:n.length>0?a:this.state.combo.lastClearType},c=this.calculateScore(a,n.length,u),f=this.updateZoneMeter(n.length,a),h=this.state.linesCleared+n.length,y=Math.floor(h/10)+1;y>this.state.level&&this.emit({type:"levelUp",level:y}),this.state={...this.state,board:i,currentPiece:null,score:this.state.score+c,level:y,linesCleared:h,combo:u,zone:f,lastClear:{type:a,lines:n.length,score:c,timestamp:Date.now()}},this.emit({type:"linesCleared",lines:n,clearType:a,score:c}),u.count>1&&this.emit({type:"comboIncreased",count:u.count}),u.backToBack&&this.emit({type:"backToBack",clearType:a}),this.spawnNextPiece()}calculateScore(e,n,r){const s=this.state.level;let o=({single:100,double:300,triple:500,tetris:800,tSpinMini:100,tSpinMiniSingle:200,tSpinMiniDouble:400,tSpin:400,tSpinSingle:800,tSpinDouble:1200,tSpinTriple:1600,allClear:3500}[e]||0)*s;return r.backToBack&&mo(e)&&(o=Math.floor(o*1.5)),r.count>0&&(o+=50*r.count*s),o}updateZoneMeter(e,n){const r=this.state.zone;if(r.mode==="active")return r;let s=e;n.startsWith("tSpin")&&(s+=2);let i=r.linesSinceLastQuarter+s,o=r.meter;for(;i>=Gu;)i-=Gu,o=Math.min(Vu,o+.25);let a=r.mode;return o>0&&r.mode==="inactive"&&(a="charging"),{...r,meter:o,mode:a,linesSinceLastQuarter:i}}activateZone(){if(this.state.zone.meter<=0||this.state.phase==="zoneActive")return;const e=this.state.zone.meter,n=e*(qm*4)*1e3,r=e>=Vu;this.state={...this.state,phase:"zoneActive",zone:{mode:"active",meter:0,timeRemaining:n,maxTime:n,linesCleared:0,scoreBuffer:0,wasFullMeter:r,linesSinceLastQuarter:0}},this.emit({type:"zoneActivated"})}handleZoneLineClear(e,n,r){const s=this.state.zone.linesCleared,i=fg(e,n,s),o=s+n.length,a=Ju(i),l=Zu(n.length,r,a),u=this.calculateScore(l,n.length,this.state.combo),c=this.state.zone.scoreBuffer+u;this.state={...this.state,board:i,currentPiece:null,zone:{...this.state.zone,linesCleared:o,scoreBuffer:c}},this.emit({type:"linesCleared",lines:n,clearType:l,score:0}),this.spawnNextPiece()}endZone(){const e=this.state.zone,n=e.linesCleared,r=hg(this.state.board,n),s=this.calculateZoneEndScore(e);this.state={...this.state,phase:"playing",board:r,score:this.state.score+s,zone:this.createZoneState()},this.emit({type:"zoneEnded",linesCleared:n,score:s})}calculateZoneEndScore(e){let n=1;e.wasFullMeter&&(n+=1),e.linesCleared>=8&&(n+=1),n=Math.min(n,Ym);const r=Qm*e.linesCleared;return e.scoreBuffer*n+r}update(e){if(this.state.phase!=="playing"&&this.state.phase!=="zoneActive")return!1;let n=!1;if(this.state.phase==="zoneActive"&&this.state.zone.mode==="active")return this.state.zone.timeRemaining-=e,this.state.zone.timeRemaining<=0&&(this.state.zone.timeRemaining=0,this.endZone(),n=!0),n;const r=this.applyGravity(e);return this.state.lock.isLocking&&this.state.currentPiece&&(this.state.lock.lockTimer-=e,this.state.lock.lockTimer<=0&&(this.lockCurrentPiece(),n=!0)),n||r}applyGravity(e){if(!this.state.currentPiece)return!1;const n=this.getGravity();this.gravityAccumulator+=n*(e/1e3);let r=!1;for(;this.gravityAccumulator>=1;){this.gravityAccumulator-=1;const s=Yu(this.state.board,this.state.currentPiece,0,1);if(s)this.state.currentPiece=s,this.state.ghostY=sn(this.state.board,s),this.lastRotationWasWallKick=!1,r=!0;else{this.startLock(),this.gravityAccumulator=0;break}}return r}getGravity(){const e={1:1,2:1.2,3:1.5,4:1.8,5:2.2,6:2.7,7:3.3,8:4,9:5,10:6,11:7.5,12:9,13:11,14:14,15:18,16:22,17:28,18:35,19:45,20:60},n=Math.min(this.state.level,20);return e[n]??60}}function ya(t){return new mg(t)}const gg=[{action:"moveLeft",keys:["ArrowLeft","KeyA"]},{action:"moveRight",keys:["ArrowRight","KeyD"]},{action:"softDrop",keys:["ArrowDown","KeyS"]},{action:"hardDrop",keys:["Space","ArrowUp"]},{action:"rotateCW",keys:["KeyX","KeyW"]},{action:"rotateCCW",keys:["KeyZ","ControlLeft","ControlRight"]},{action:"rotate180",keys:["KeyA"]},{action:"hold",keys:["ShiftLeft","ShiftRight","KeyC"]},{action:"zone",keys:["KeyE","Enter"]},{action:"pause",keys:["Escape","KeyP"]}];class yg{constructor(e,n){I(this,"config");I(this,"keyBindings",new Map);I(this,"keyStates",new Map);I(this,"callback",null);I(this,"animationFrameId",null);I(this,"enabled",!1);I(this,"repeatableActions",new Set(["moveLeft","moveRight","softDrop"]));I(this,"handleKeyDown",e=>{const n=this.keyBindings.get(e.code);if(n&&e.preventDefault(),e.repeat||!n)return;const r=performance.now();this.keyStates.set(e.code,{pressed:!0,pressTime:r,lastRepeatTime:r}),this.fireAction(n)});I(this,"handleKeyUp",e=>{this.keyStates.delete(e.code)});I(this,"handleBlur",()=>{this.keyStates.clear()});this.config={...$f,...e},this.setupBindings(n||gg)}setupBindings(e){this.keyBindings.clear();for(const n of e)for(const r of n.keys)this.keyBindings.set(r,n.action)}setConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}setCallback(e){this.callback=e}setBindings(e){this.setupBindings(e),this.keyStates.clear()}getBindings(){const e=new Map;for(const[n,r]of this.keyBindings)e.has(r)||e.set(r,[]),e.get(r).push(n);return Array.from(e.entries()).map(([n,r])=>({action:n,keys:r}))}enable(){this.enabled||(this.enabled=!0,window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.handleBlur),this.startUpdateLoop())}disable(){this.enabled&&(this.enabled=!1,window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.handleBlur),this.stopUpdateLoop(),this.keyStates.clear())}startUpdateLoop(){if(this.animationFrameId!==null)return;const e=()=>{this.update(performance.now()),this.animationFrameId=requestAnimationFrame(e)};this.animationFrameId=requestAnimationFrame(e)}stopUpdateLoop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}update(e){if(this.keyStates.size!==0)for(const[n,r]of this.keyStates){if(!r.pressed)continue;const s=this.keyBindings.get(n);if(!s||!this.repeatableActions.has(s))continue;if(e-r.pressTime>=this.config.das){const o=e-r.lastRepeatTime,a=this.config.arr===0?16:this.config.arr;o>=a&&(this.fireAction(s),r.lastRepeatTime=e)}}}fireAction(e){this.callback&&this.callback(e)}triggerAction(e){this.fireAction(e)}isActionPressed(e){for(const[n,r]of this.keyStates)if(r.pressed&&this.keyBindings.get(n)===e)return!0;return!1}destroy(){this.disable(),this.callback=null}}class vg{constructor(e){I(this,"callback",null);I(this,"animationFrameId",null);I(this,"config");I(this,"enabled",!1);I(this,"previousButtonStates",new Map);I(this,"previousAxisStates",new Map);I(this,"buttonHoldStates",new Map);I(this,"buttonMappings",new Map([[0,"rotateCCW"],[1,"rotateCW"],[2,"hold"],[3,"zone"],[4,"hold"],[5,"hold"],[6,"zone"],[7,"zone"],[12,"hardDrop"],[13,"softDrop"],[14,"moveLeft"],[15,"moveRight"],[9,"pause"],[8,"pause"]]));I(this,"repeatableActions",new Set(["moveLeft","moveRight","softDrop"]));I(this,"deadzone",.4);I(this,"handleGamepadConnected",e=>{console.log(`Gamepad connected: ${e.gamepad.id} (index: ${e.gamepad.index})`);const n=e.gamepad.id.toLowerCase();(n.includes("dualsense")||n.includes("dualshock")||n.includes("playstation"))&&console.log("PlayStation controller detected - using Tetris Effect mappings")});I(this,"handleGamepadDisconnected",e=>{console.log(`Gamepad disconnected: ${e.gamepad.id}`),this.previousButtonStates.delete(e.gamepad.index),this.previousAxisStates.delete(e.gamepad.index);const n=`${e.gamepad.index}:`;for(const r of this.buttonHoldStates.keys())r.startsWith(n)&&this.buttonHoldStates.delete(r)});this.config={...$f,...e}}setCallback(e){this.callback=e}setConfig(e){this.config={...this.config,...e}}enable(){if(this.enabled)return;this.enabled=!0,window.addEventListener("gamepadconnected",this.handleGamepadConnected),window.addEventListener("gamepaddisconnected",this.handleGamepadDisconnected),this.startPolling();const e=navigator.getGamepads();for(const n of e)n&&console.log(`Gamepad detected: ${n.id}`)}disable(){this.enabled&&(this.enabled=!1,window.removeEventListener("gamepadconnected",this.handleGamepadConnected),window.removeEventListener("gamepaddisconnected",this.handleGamepadDisconnected),this.stopPolling(),this.buttonHoldStates.clear(),this.previousButtonStates.clear(),this.previousAxisStates.clear())}startPolling(){if(this.animationFrameId!==null)return;const e=()=>{this.pollGamepads(),this.animationFrameId=requestAnimationFrame(e)};this.animationFrameId=requestAnimationFrame(e)}stopPolling(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}pollGamepads(){const e=navigator.getGamepads(),n=performance.now();for(const r of e)r&&(this.pollButtons(r,n),this.pollAnalogSticks(r,n))}pollButtons(e,n){const r=this.previousButtonStates.get(e.index)||[],s=[];for(let i=0;i<e.buttons.length;i++){const o=e.buttons[i];if(!o){s[i]=!1;continue}const a=o.pressed||o.value>.5;s[i]=a;const l=r[i]||!1,u=this.buttonMappings.get(i);if(!u)continue;const c=`${e.index}:btn:${i}`;a&&!l?(this.fireAction(u),this.repeatableActions.has(u)&&this.buttonHoldStates.set(c,{pressTime:n,lastRepeatTime:n})):!a&&l?this.buttonHoldStates.delete(c):a&&this.repeatableActions.has(u)&&this.handleDASARR(c,u,n)}this.previousButtonStates.set(e.index,s)}pollAnalogSticks(e,n){const r=this.previousAxisStates.get(e.index)||{left:null,right:null},s=e.axes[0]??0,i=e.axes[1]??0;let o=null;(Math.abs(s)>this.deadzone||Math.abs(i)>this.deadzone)&&(Math.abs(s)>Math.abs(i)?o=s<-this.deadzone?"left":s>this.deadzone?"right":null:o=i<-this.deadzone?"up":i>this.deadzone?"down":null);const a={left:"moveLeft",right:"moveRight",up:"hardDrop",down:"softDrop"},l=`${e.index}:stick:left`;if(o!==r.left){if(this.buttonHoldStates.delete(l),o){const u=a[o];u&&(this.fireAction(u),this.repeatableActions.has(u)&&this.buttonHoldStates.set(l,{pressTime:n,lastRepeatTime:n}))}}else if(o){const u=a[o];u&&this.repeatableActions.has(u)&&this.handleDASARR(l,u,n)}this.previousAxisStates.set(e.index,{left:o,right:r.right})}handleDASARR(e,n,r){const s=this.buttonHoldStates.get(e);if(!s)return;if(r-s.pressTime>=this.config.das){const o=r-s.lastRepeatTime,a=this.config.arr===0?16:this.config.arr;o>=a&&(this.fireAction(n),s.lastRepeatTime=r)}}fireAction(e){this.callback&&this.callback(e)}getConnectedGamepads(){const e=navigator.getGamepads();return Array.from(e).filter(n=>n!==null)}isGamepadConnected(){return this.getConnectedGamepads().length>0}destroy(){this.disable(),this.callback=null}}function _g(t,e){return new yg(t,e)}function wg(t){return new vg(t)}const zf="tetris-key-bindings",Df={moveLeft:"ArrowLeft",moveRight:"ArrowRight",softDrop:"ArrowDown",hardDrop:"Space",rotateCW:"ArrowUp",rotateCCW:"KeyZ",rotate180:"KeyA",hold:"KeyC",zone:"KeyE",pause:"Escape"},Xu={moveLeft:"Move Left",moveRight:"Move Right",softDrop:"Soft Drop",hardDrop:"Hard Drop",rotateCW:"Rotate Clockwise",rotateCCW:"Rotate Counter-CW",rotate180:"Rotate 180",hold:"Hold Piece",zone:"Zone",pause:"Pause"},kl=["moveLeft","moveRight","softDrop","hardDrop","rotateCW","rotateCCW","rotate180","hold","zone","pause"],ec={ArrowLeft:"",ArrowRight:"",ArrowUp:"",ArrowDown:"",Space:"SPACE",Escape:"ESC",Enter:"ENTER",Tab:"TAB",Backspace:"BACKSPACE",Delete:"DELETE",ShiftLeft:"L-SHIFT",ShiftRight:"R-SHIFT",ControlLeft:"L-CTRL",ControlRight:"R-CTRL",AltLeft:"L-ALT",AltRight:"R-ALT",MetaLeft:"L-META",MetaRight:"R-META",CapsLock:"CAPS",Digit0:"0",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Numpad0:"NUM 0",Numpad1:"NUM 1",Numpad2:"NUM 2",Numpad3:"NUM 3",Numpad4:"NUM 4",Numpad5:"NUM 5",Numpad6:"NUM 6",Numpad7:"NUM 7",Numpad8:"NUM 8",Numpad9:"NUM 9",NumpadAdd:"NUM +",NumpadSubtract:"NUM -",NumpadMultiply:"NUM *",NumpadDivide:"NUM /",NumpadEnter:"NUM ENTER",NumpadDecimal:"NUM .",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Comma:",",Period:".",Slash:"/",Semicolon:";",Quote:"'",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Minus:"-",Equal:"=",Backquote:"`"};function tc(t){return ec[t]?ec[t]:t.startsWith("Key")?t.slice(3):t}function Bf(){return{...Df}}function va(){try{const t=localStorage.getItem(zf);if(t){const e=JSON.parse(t);return{...Df,...e}}}catch(t){console.error("Error loading key bindings:",t)}return Bf()}function Sg(t){try{localStorage.setItem(zf,JSON.stringify(t))}catch(e){console.error("Error saving key bindings:",e)}}function nc(t){return kl.map(e=>({action:e,keys:[t[e]]}))}function kg(t,e,n){for(const r of kl)if(r!==n&&t[r]===e)return r;return null}const xg=t=>{let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(y=>y(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,a);return a},Cg=t=>xg(t),Eg=t=>t;function Tg(t,e=Eg){const n=_r.useSyncExternalStore(t.subscribe,_r.useCallback(()=>e(t.getState()),[t,e]),_r.useCallback(()=>e(t.getInitialState()),[t,e]));return _r.useDebugValue(n),n}const jg=t=>{const e=Cg(t),n=r=>Tg(e,r);return Object.assign(n,e),n},bg=t=>jg(t);function Mf(t){var G,$;const e=w.useRef(null),n=w.useRef(null),r=w.useRef(null),s=w.useRef(null),i=w.useRef(0),o=w.useRef(0),a=w.useRef(0),l=w.useRef(new Set),u=w.useRef(null),c=w.useRef(0);e.current===null&&(e.current=ya(t));const f=w.useCallback(P=>(l.current.add(P),()=>{l.current.delete(P)}),[]),h=w.useCallback(()=>a.current,[]),y=w.useCallback((P,O)=>{const D=u.current;if(!D)return!0;const U=P.currentPiece;return D.phase!==P.phase||D.score!==P.score||D.level!==P.level||D.linesCleared!==P.linesCleared||D.pieceType!==((U==null?void 0:U.type)??null)||D.pieceX!==((U==null?void 0:U.position.x)??0)||D.pieceY!==((U==null?void 0:U.position.y)??0)||D.pieceRotation!==((U==null?void 0:U.rotation)??0)||D.holdPiece!==P.holdPiece||D.zoneMode!==P.zone.mode||D.zoneLinesCleared!==P.zone.linesCleared||O},[]),v=w.useCallback(P=>{const O=P.currentPiece;u.current={phase:P.phase,score:P.score,level:P.level,linesCleared:P.linesCleared,pieceType:(O==null?void 0:O.type)??null,pieceX:(O==null?void 0:O.position.x)??0,pieceY:(O==null?void 0:O.position.y)??0,pieceRotation:(O==null?void 0:O.rotation)??0,holdPiece:P.holdPiece,zoneMode:P.zone.mode,zoneLinesCleared:P.zone.linesCleared,boardVersion:c.current}},[]),S=w.useCallback(()=>{a.current++,l.current.forEach(P=>P())},[]);w.useSyncExternalStore(f,h,h);const E=w.useCallback(P=>{if(!e.current)return;const O=i.current?P-i.current:0;i.current=P;const D=Math.min(O,100),U=e.current.update(D);U&&c.current++;const Y=e.current.getState(),Ve=performance.now(),lt=Ve-o.current;(y(Y,U)||Y.zone.mode==="active"&&lt>100)&&(v(Y),o.current=Ve,S()),s.current=requestAnimationFrame(E)},[S,y,v]);w.useEffect(()=>{const P=e.current;if(!P)return;const O=P.getState();return(O.phase==="playing"||O.phase==="zoneActive")&&(i.current=0,o.current=performance.now(),s.current=requestAnimationFrame(E)),()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null)}},[(G=e.current)==null?void 0:G.getState().phase,E]),w.useEffect(()=>{const P=e.current;if(!P)return;const O=va(),D=nc(O),U=_g(void 0,D);n.current=U;const Y=wg();r.current=Y;const Ve=lt=>{P.handleInput(lt),v(P.getState()),S()};return U.setCallback(Ve),Y.setCallback(Ve),U.enable(),Y.enable(),()=>{U.destroy(),Y.destroy()}},[S,v]);const m=w.useCallback(()=>{var P;(P=e.current)==null||P.start(),e.current&&v(e.current.getState()),S()},[S,v]),p=w.useCallback(()=>{var P;(P=e.current)==null||P.pause(),e.current&&v(e.current.getState()),S()},[S,v]),g=w.useCallback(P=>{var O;(O=e.current)==null||O.restart(P),e.current&&v(e.current.getState()),S()},[S,v]),_=w.useCallback(P=>{var O;(O=e.current)==null||O.handleInput(P),e.current&&v(e.current.getState()),S()},[S,v]),k=w.useCallback(P=>{var O;(O=n.current)==null||O.setConfig(P)},[]),T=w.useCallback(P=>{var D;const O=nc(P);(D=n.current)==null||D.setBindings(O)},[]),b=w.useCallback(P=>{var O;return((O=e.current)==null?void 0:O.addEventListener(P))??(()=>{})},[]);return{state:(($=e.current)==null?void 0:$.getState())??ya().getState(),start:m,pause:p,restart:g,handleInput:_,setInputConfig:k,setKeyBindings:T,addEventListener:b}}bg((t,e)=>({engine:null,state:null,initialize:n=>{const r=ya(n);t({engine:r,state:r.getState()})},start:()=>{const{engine:n}=e();n&&(n.start(),t({state:n.getState()}))},pause:()=>{const{engine:n}=e();n&&(n.pause(),t({state:n.getState()}))},restart:n=>{const{engine:r}=e();r&&(r.restart(n),t({state:r.getState()}))},handleInput:n=>{const{engine:r}=e();r&&(r.handleInput(n),t({state:r.getState()}))},updateState:()=>{const{engine:n}=e();n&&t({state:n.getState()})}}));const Pg="_boardWrapper_19rb1_7",Ng="_zoneActive_19rb1_20",Rg="_board_19rb1_7",Lg="_grid_19rb1_43",Ag="_emptyCell_19rb1_51",Og="_dropTrail_19rb1_59",$g="_dropTrailBeam_19rb1_66",Ig="_overlay_19rb1_73",zg="_pauseText_19rb1_84",Ge={boardWrapper:Pg,zoneActive:Ng,board:Rg,grid:Lg,emptyCell:Ag,dropTrail:Og,dropTrailBeam:$g,overlay:Ig,pauseText:zg},Dg="_mino_1yrv3_9",Bg="_filled_1yrv3_24",Mg="_current_1yrv3_50",Ug="_locked_1yrv3_55",Fg="_ghost_1yrv3_60",Hg="_small_1yrv3_75",Vg="_preview_1yrv3_88",Gg="_row_1yrv3_101",ht={mino:Dg,filled:Bg,current:Mg,locked:Ug,ghost:Fg,small:Hg,preview:Vg,row:Gg},go=26,yo=1,rc=new Set,Uf=w.memo(({color:t,isGhost:e,isCurrent:n})=>{const r=`${ht.mino} ${ht.filled}${n?` ${ht.current}`:""}${e?` ${ht.ghost}`:""}`,s={backgroundColor:e?void 0:t,"--mino-color":t};return d.jsx("div",{className:r,style:s})});Uf.displayName="Mino";const Ff=w.memo(()=>d.jsx("div",{className:Ge.emptyCell}));Ff.displayName="EmptyCell";const Kg="#e8e8e8",Hf=w.memo(({y:t,rowData:e,currentPieceCells:n,ghostCells:r,currentPieceType:s,isZoneLine:i})=>{const o=[];for(let a=0;a<Qe;a++){const l=`${a},${t}`,u=e[a]??null,c=n.has(l),f=!c&&r.has(l);let h=u;if((c&&s!==null||f&&s!==null)&&(h=s),h===null&&!f)o.push(d.jsx(Ff,{},a));else{const y=i&&u!==null?Kg:h!==null?Sl[h]:"#888";o.push(d.jsx(Uf,{color:y,isGhost:f,isCurrent:c},a))}}return d.jsx("div",{className:ht.row,children:o})});Hf.displayName="BoardRow";const Vf=w.memo(({currentPiece:t,ghostY:e,color:n})=>{const r=Xn(t),s=Ee-Tn,i=new Map;r.forEach(u=>{const c=u.y-s,f=i.get(u.x);(f===void 0||c>f)&&i.set(u.x,c)});const o=Xn({...t,position:{x:t.position.x,y:e}}),a=new Map;o.forEach(u=>{const c=u.y-s,f=a.get(u.x);(f===void 0||c<f)&&a.set(u.x,c)});const l=[];return i.forEach((u,c)=>{const f=a.get(c);if(f===void 0)return;const h=u+1,y=f;if(h>=y)return;const v=c*(go+yo)+2,S=h*(go+yo)+2,E=(y-h)*(go+yo);l.push(d.jsx("div",{className:Ge.dropTrailBeam,style:{left:`${v}px`,top:`${S}px`,height:`${E}px`,"--trail-color":n}},c))}),d.jsx("div",{className:Ge.dropTrail,children:l})});Vf.displayName="DropTrail";const xl=w.memo(({board:t,currentPiece:e,ghostY:n,isZoneActive:r=!1,isPaused:s=!1,zoneLinesCleared:i=0})=>{const o=(e==null?void 0:e.position.x)??-1,a=(e==null?void 0:e.position.y)??-1,l=(e==null?void 0:e.rotation)??0,u=(e==null?void 0:e.type)??null,c=w.useMemo(()=>{if(!e)return rc;const m=new Set,p=Xn(e),g=Ee-Tn;for(const _ of p)m.add(`${_.x},${_.y-g}`);return m},[o,a,l,u,e]),f=w.useMemo(()=>{if(!e||n===a)return rc;const m=new Set,p=Xn({...e,position:{x:o,y:n}}),g=Ee-Tn;for(const _ of p)m.add(`${_.x},${_.y-g}`);return m},[o,u,l,a,n,e]),h=u!==null?Sl[u]:"#00f0f0",y=r&&e&&n>a,v=w.useMemo(()=>{const m=[],p=Ee-Tn,g=Tn-i;for(let _=0;_<Tn;_++){const k=p+_,T=t[k]||[],b=r&&_>=g;m.push(d.jsx(Hf,{y:_,rowData:T,currentPieceCells:c,ghostCells:f,currentPieceType:u,isZoneLine:b},_))}return m},[t,c,f,u,i,r]),S=r?`${Ge.board} ${Ge.zoneActive}`:Ge.board,E=r?`${Ge.boardWrapper} ${Ge.zoneActive}`:Ge.boardWrapper;return d.jsx("div",{className:E,children:d.jsxs("div",{className:S,children:[y&&e&&d.jsx(Vf,{currentPiece:e,ghostY:n,color:h}),d.jsx("div",{className:Ge.grid,children:v}),s&&d.jsx("div",{className:Ge.overlay,children:d.jsx("span",{className:Ge.pauseText,children:"PAUSED"})})]})})});xl.displayName="GameBoard";const Wg="_preview_kc3xf_6",qg="_queueList_kc3xf_23",Qg="_disabled_kc3xf_34",Yg="_small_kc3xf_38",Jg="_pieceContainer_kc3xf_42",Zg="_label_kc3xf_48",Xg="_empty_kc3xf_75",ey="_queue_kc3xf_23",ty="_queueLabel_kc3xf_107",_t={preview:Wg,queueList:qg,disabled:Qg,small:Yg,pieceContainer:Jg,label:Zg,empty:Xg,queue:ey,queueLabel:ty},Cl=w.memo(({type:t,label:e,disabled:n=!1,size:r="normal"})=>{const s=t?wl[t]:null,i=t?Sl[t]:"transparent",o=w.useMemo(()=>{var S;if(!s)return d.jsx("div",{className:_t.empty,children:d.jsx("span",{children:"-"})});const l=s[0];if(!l)return null;let u=l.length,c=0,f=s.length,h=0;s.forEach((E,m)=>{E.forEach((p,g)=>{p&&(u=Math.min(u,g),c=Math.max(c,g),f=Math.min(f,m),h=Math.max(h,m))})});const y=[],v=r==="small"?ht.small:ht.preview;for(let E=f;E<=h;E++){const m=[];for(let p=u;p<=c;p++){const g=((S=s[E])==null?void 0:S[p])===1,_=[ht.mino,v,g&&ht.filled].filter(Boolean).join(" "),k=g?{backgroundColor:i,"--mino-color":i}:{};m.push(d.jsx("div",{className:_,style:k},`${p}-${E}`))}y.push(d.jsx("div",{className:ht.row,children:m},E))}return y},[s,i,r]),a=[_t.preview,n&&_t.disabled,r==="small"&&_t.small].filter(Boolean).join(" ");return d.jsxs("div",{className:a,children:[e&&d.jsx("span",{className:_t.label,children:e}),d.jsx("div",{className:_t.pieceContainer,children:o})]})});Cl.displayName="PiecePreview";const El=w.memo(({pieces:t,count:e=5})=>{const n=w.useMemo(()=>t.slice(0,e),[t,e]);return d.jsxs("div",{className:_t.queue,children:[d.jsx("span",{className:_t.queueLabel,children:"NEXT"}),d.jsx("div",{className:_t.queueList,children:n.map((r,s)=>d.jsx(Cl,{type:r,size:s===0?"normal":"small"},`${s}-${r}`))})]})});El.displayName="NextQueue";const Tl=w.memo(({type:t,canHold:e})=>d.jsx(Cl,{type:t,label:"HOLD",disabled:!e}));Tl.displayName="HoldPiece";function ny(t){return{single:"Single",double:"Double",triple:"Triple",tetris:"Tetris",tSpinMini:"T-Spin Mini",tSpinMiniSingle:"T-Spin Mini Single",tSpinMiniDouble:"T-Spin Mini Double",tSpin:"T-Spin",tSpinSingle:"T-Spin Single",tSpinDouble:"T-Spin Double",tSpinTriple:"T-Spin Triple",allClear:"Perfect Clear"}[t]||t}const ry="_stats_1ytoh_6",sy="_statGroup_1ytoh_22",iy="_label_1ytoh_35",oy="_value_1ytoh_43",ay="_clearInfo_1ytoh_51",ly="_clearType_1ytoh_64",uy="_backToBack_1ytoh_72",cy="_combo_1ytoh_78",dy="_clearScore_1ytoh_84",fy="_zoneMeter_1ytoh_95",hy="_zoneReady_1ytoh_112",py="_zoneActive_1ytoh_120",my="_zoneLabel_1ytoh_128",gy="_segmentContainer_1ytoh_141",yy="_zoneSegment_1ytoh_153",vy="_segmentFilled_1ytoh_160",_y="_zoneInfo_1ytoh_180",wy="_zoneTime_1ytoh_189",Sy="_zoneLines_1ytoh_196",W={stats:ry,statGroup:sy,label:iy,value:oy,clearInfo:ay,clearType:ly,backToBack:uy,combo:cy,clearScore:dy,zoneMeter:fy,zoneReady:hy,zoneActive:py,zoneLabel:my,segmentContainer:gy,zoneSegment:yy,segmentFilled:vy,zoneInfo:_y,zoneTime:wy,zoneLines:Sy},jl=w.memo(({score:t,level:e,linesCleared:n,combo:r,backToBack:s,lastClear:i})=>{const o=w.useMemo(()=>i?{typeName:ny(i.type),score:i.score,timestamp:i.timestamp}:null,[i==null?void 0:i.type,i==null?void 0:i.score,i==null?void 0:i.timestamp]);return d.jsxs("div",{className:W.stats,children:[d.jsxs("div",{className:W.statGroup,children:[d.jsx("span",{className:W.label,children:"SCORE"}),d.jsx("span",{className:W.value,children:t.toLocaleString()})]}),d.jsxs("div",{className:W.statGroup,children:[d.jsx("span",{className:W.label,children:"LEVEL"}),d.jsx("span",{className:W.value,children:e})]}),d.jsxs("div",{className:W.statGroup,children:[d.jsx("span",{className:W.label,children:"LINES"}),d.jsx("span",{className:W.value,children:n})]}),d.jsx("div",{className:W.clearInfo,children:o&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:W.clearType,children:o.typeName}),s&&d.jsx("span",{className:W.backToBack,children:"BACK-TO-BACK"}),r>1&&d.jsxs("span",{className:W.combo,children:[r," COMBO"]}),d.jsxs("span",{className:W.clearScore,children:["+",o.score.toLocaleString()]})]})})]})});jl.displayName="GameStats";const Gf=w.memo(({filled:t,index:e})=>{const n=t?`${W.zoneSegment} ${W.segmentFilled}`:W.zoneSegment;return d.jsx("div",{className:n,style:{animationDelay:`${e*.1}s`}})});Gf.displayName="ZoneSegment";const bl=w.memo(({meter:t,isActive:e,timeRemaining:n=0,linesCleared:r=0,maxTime:s=0})=>{const i=t*100,o=t>=1,a=Math.ceil(n/1e3),l=Math.floor(i/25);let u=W.zoneMeter;return e?u+=` ${W.zoneActive}`:o&&(u+=` ${W.zoneReady}`),d.jsxs("div",{className:u,children:[d.jsx("span",{className:W.zoneLabel,children:"ZONE"}),e?d.jsxs("div",{className:W.zoneInfo,children:[d.jsxs("span",{className:W.zoneTime,children:[a,"s"]}),d.jsxs("span",{className:W.zoneLines,children:[r," LINES"]})]}):d.jsx("div",{className:W.segmentContainer,children:[0,1,2,3].map(c=>d.jsx(Gf,{filled:c<l,index:c},c))}),o&&!e&&d.jsx("span",{className:W.zoneReady,children:"READY!"})]})});bl.displayName="ZoneMeter";const gr=[261.63,293.66,329.63,392,440,523.25,587.33,659.25];class ky{constructor(){I(this,"audioContext",null);I(this,"masterGain",null);I(this,"sfxGain",null);I(this,"musicGain",null);I(this,"enabled",!0);I(this,"sfxVolume",.7);I(this,"musicVolume",.5);I(this,"currentMusicTrack",null);I(this,"isZoneActive",!1);I(this,"musicLayers",[]);I(this,"musicLayerGains",[]);I(this,"currentLevel",1);I(this,"zoneFilter",null);I(this,"noteIndex",0)}async initialize(){if(!this.audioContext)try{this.audioContext=new AudioContext,this.masterGain=this.audioContext.createGain(),this.masterGain.connect(this.audioContext.destination),this.sfxGain=this.audioContext.createGain(),this.sfxGain.gain.value=this.sfxVolume,this.sfxGain.connect(this.masterGain),this.zoneFilter=this.audioContext.createBiquadFilter(),this.zoneFilter.type="lowpass",this.zoneFilter.frequency.value=2e4,this.zoneFilter.Q.value=1,this.musicGain=this.audioContext.createGain(),this.musicGain.gain.value=this.musicVolume,this.musicGain.connect(this.zoneFilter),this.zoneFilter.connect(this.masterGain),console.log("[Audio] Initialized")}catch(e){console.error("[Audio] Failed to initialize:",e)}}ensureContextRunning(){var e;((e=this.audioContext)==null?void 0:e.state)==="suspended"&&this.audioContext.resume().catch(()=>{})}setEnabled(e){this.enabled=e,e||this.stopMusic()}isEnabled(){return this.enabled}setSfxVolume(e){this.sfxVolume=Math.max(0,Math.min(1,e)),this.sfxGain&&(this.sfxGain.gain.value=this.sfxVolume)}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.musicGain&&(this.musicGain.gain.value=this.musicVolume)}playQuantizedTone(e=.5,n=.1){if(!this.enabled||!this.audioContext||!this.sfxGain)return;this.ensureContextRunning();const r=Math.floor(e*(gr.length-1)),s=gr[r]??gr[0]??440,i=this.audioContext.currentTime,o=this.audioContext.createOscillator();o.type="sine",o.frequency.value=s;const a=this.audioContext.createGain();a.gain.setValueAtTime(0,i),a.gain.linearRampToValueAtTime(.3,i+.01),a.gain.exponentialRampToValueAtTime(.01,i+n),o.connect(a),a.connect(this.sfxGain),o.start(i),o.stop(i+n)}playRotateSound(){if(!this.enabled||!this.audioContext||!this.sfxGain)return;this.ensureContextRunning();const e=gr[this.noteIndex];this.noteIndex=(this.noteIndex+1)%gr.length;const n=this.audioContext.currentTime,r=this.audioContext.createOscillator();r.type="sine",r.frequency.value=e||440;const s=this.audioContext.createOscillator();s.type="sine",s.frequency.value=(e||440)*2;const i=this.audioContext.createGain();i.gain.setValueAtTime(0,n),i.gain.linearRampToValueAtTime(.15,n+.01),i.gain.exponentialRampToValueAtTime(.001,n+.15);const o=this.audioContext.createGain();o.gain.setValueAtTime(0,n),o.gain.linearRampToValueAtTime(.05,n+.01),o.gain.exponentialRampToValueAtTime(.001,n+.1),r.connect(i),s.connect(o),i.connect(this.sfxGain),o.connect(this.sfxGain),r.start(n),r.stop(n+.15),s.start(n),s.stop(n+.1)}playHardDropSound(){if(!this.enabled||!this.audioContext||!this.sfxGain)return;this.ensureContextRunning();const e=this.audioContext.currentTime,n=this.audioContext.createOscillator();n.type="sine",n.frequency.setValueAtTime(150,e),n.frequency.exponentialRampToValueAtTime(50,e+.1);const r=this.createNoiseBuffer(.1),s=this.audioContext.createBufferSource();s.buffer=r;const i=this.audioContext.createGain();i.gain.setValueAtTime(.2,e),i.gain.exponentialRampToValueAtTime(.001,e+.08);const o=this.audioContext.createGain();o.gain.setValueAtTime(.3,e),o.gain.exponentialRampToValueAtTime(.001,e+.15);const a=this.audioContext.createBiquadFilter();a.type="highpass",a.frequency.value=1e3,s.connect(a),a.connect(i),i.connect(this.sfxGain),n.connect(o),o.connect(this.sfxGain),n.start(e),n.stop(e+.15),s.start(e),s.stop(e+.1)}playLineClearSound(e){if(!this.enabled||!this.audioContext||!this.sfxGain)return;this.ensureContextRunning();const n=this.audioContext.currentTime,r=400+e*100;for(let s=0;s<e;s++){const i=r*Math.pow(1.25,s),o=n+s*.05,a=this.audioContext.createOscillator();a.type="square",a.frequency.value=i;const l=this.audioContext.createGain();l.gain.setValueAtTime(0,o),l.gain.linearRampToValueAtTime(.15,o+.01),l.gain.exponentialRampToValueAtTime(.001,o+.2),a.connect(l),l.connect(this.sfxGain),a.start(o),a.stop(o+.2)}}playTetrisSound(){if(!this.enabled||!this.audioContext||!this.sfxGain)return;this.ensureContextRunning();const e=this.audioContext.currentTime;[261.63,329.63,392,523.25,659.25].forEach((r,s)=>{const i=e+s*.04,o=this.audioContext.createOscillator();o.type="sawtooth",o.frequency.value=r;const a=this.audioContext.createBiquadFilter();a.type="lowpass",a.frequency.setValueAtTime(2e3,i),a.frequency.linearRampToValueAtTime(500,i+.3);const l=this.audioContext.createGain();l.gain.setValueAtTime(0,i),l.gain.linearRampToValueAtTime(.12,i+.02),l.gain.exponentialRampToValueAtTime(.001,i+.4),o.connect(a),a.connect(l),l.connect(this.sfxGain),o.start(i),o.stop(i+.4)})}createNoiseBuffer(e){const n=this.audioContext.sampleRate,r=n*e,s=this.audioContext.createBuffer(1,r,n),i=s.getChannelData(0);for(let o=0;o<r;o++)i[o]=Math.random()*2-1;return s}playSfx(e){if(this.enabled){if(!this.audioContext){this.initialize();return}switch(e){case"rotate":this.playRotateSound();break;case"hardDrop":this.playHardDropSound();break;case"lineClear":this.playLineClearSound(1);break;case"tetris":this.playTetrisSound();break;case"move":this.playQuantizedTone(.3,.05);break;case"lock":this.playQuantizedTone(.2,.08);break;case"hold":this.playQuantizedTone(.6,.1);break;case"softDrop":this.playQuantizedTone(.1,.03);break;case"tSpin":this.playLineClearSound(3);break;case"combo":this.playQuantizedTone(.7,.15);break;case"levelUp":this.playTetrisSound();break;case"zoneActivate":this.playQuantizedTone(.9,.3);break;case"zoneEnd":this.playLineClearSound(4);break;default:console.debug(`[Audio] SFX: ${e}`)}}}playClearSound(e,n,r){if(this.enabled){if(e==="tetris")this.playSfx("tetris");else if(e.startsWith("tSpin"))this.playSfx("tSpin");else if(e==="allClear")this.playTetrisSound(),this.playTetrisSound();else{const s=e==="single"?1:e==="double"?2:e==="triple"?3:1;this.playLineClearSound(s)}n>1&&setTimeout(()=>this.playSfx("combo"),100),r&&setTimeout(()=>this.playQuantizedTone(.8,.2),150)}}setZoneMode(e){if(this.isZoneActive=e,!this.zoneFilter||!this.audioContext)return;const n=this.audioContext.currentTime;e?this.zoneFilter.frequency.linearRampToValueAtTime(800,n+.3):this.zoneFilter.frequency.linearRampToValueAtTime(2e4,n+.3)}playMusic(e){this.enabled&&this.currentMusicTrack!==e&&(this.currentMusicTrack=e,console.debug(`[Audio] Play music: ${e}`))}stopMusic(){this.currentMusicTrack=null,this.musicLayers.forEach(e=>{try{e.stop()}catch{}}),this.musicLayers=[],console.debug("[Audio] Stop music")}pauseMusic(){var e;((e=this.audioContext)==null?void 0:e.state)==="running"&&this.audioContext.suspend()}resumeMusic(){var e;((e=this.audioContext)==null?void 0:e.state)==="suspended"&&this.audioContext.resume()}setMusicIntensity(e){this.currentLevel=e,console.debug(`[Audio] Music intensity for level: ${e}`)}destroy(){this.stopMusic(),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.masterGain=null,this.sfxGain=null,this.musicGain=null,this.zoneFilter=null}}let vo=null;function xy(){return vo||(vo=new ky),vo}function Cy(){const t=w.useRef(xy());return w.useEffect(()=>{const e=()=>{t.current.initialize(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};return document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e)}},[]),t.current}function Kf(t,e,n){const r=Cy();return w.useEffect(()=>{r.setMusicIntensity(e)},[r,e]),w.useEffect(()=>{r.setZoneMode(n)},[r,n]),w.useEffect(()=>t(i=>{switch(i.type){case"pieceMoved":r.playSfx("move");break;case"pieceRotated":r.playSfx("rotate");break;case"pieceLocked":r.playSfx("lock");break;case"linesCleared":r.playClearSound(i.clearType,0,!1);break;case"hold":r.playSfx("hold");break;case"levelUp":r.playSfx("levelUp");break;case"zoneActivated":r.playSfx("zoneActivate");break;case"zoneEnded":r.playSfx("zoneEnd");break;case"gameOver":r.playSfx("gameOver");break;case"comboIncreased":i.count>1&&r.playSfx("combo");break;case"backToBack":r.playQuantizedTone(.8,.2);break}}),[t,r]),r}const Ey="modulepreload",Ty=function(t){return"/blocks/"+t},sc={},tr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Ty(l),l in sc)return;sc[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ey,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,y)=>{f.addEventListener("load",h),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},jy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tr(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Pl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class by extends Pl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Py extends Pl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ny extends Pl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _a;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_a||(_a={}));var Ry=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ly{constructor(e,{headers:n={},customFetch:r,region:s=_a.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=jy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ry(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new by(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Py(c);if(!c.ok)throw new Ny(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield c.json():h==="application/octet-stream"?y=yield c.blob():h==="text/event-stream"?y=c:h==="multipart/form-data"?y=yield c.formData():y=yield c.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Re={},Nl={},Li={},os={},Ai={},Oi={},Ay=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nr=Ay();const Oy=nr.fetch,Wf=nr.fetch.bind(nr),qf=nr.Headers,$y=nr.Request,Iy=nr.Response,or=Object.freeze(Object.defineProperty({__proto__:null,Headers:qf,Request:$y,Response:Iy,default:Wf,fetch:Oy},Symbol.toStringTag,{value:"Module"})),zy=Sh(or);var $i={};Object.defineProperty($i,"__esModule",{value:!0});let Dy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$i.default=Dy;var Qf=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const By=Qf(zy),My=Qf($i);let Uy=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=By.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,h=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&E&&E.length>1&&(f=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,y="OK")}catch{i.status===404&&S===""?(h=204,y="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new My.default(u)}return{error:u,data:c,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Oi.default=Uy;var Fy=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});const Hy=Fy(Oi);let Vy=class extends Hy.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ai.default=Vy;var Gy=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});const Ky=Gy(Ai);let Wy=class extends Ky.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};os.default=Wy;var qy=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const yr=qy(os);let Qy=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new yr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Li.default=Qy;var Ii={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.version=void 0;zi.version="0.0.0-automated";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.DEFAULT_HEADERS=void 0;const Yy=zi;Ii.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yy.version}`};var Yf=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nl,"__esModule",{value:!0});const Jy=Yf(Li),Zy=Yf(os),Xy=Ii;let ev=class Jf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Xy.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Jy.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Zy.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Nl.default=ev;var ar=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const Zf=ar(Nl);Re.PostgrestClient=Zf.default;const Xf=ar(Li);Re.PostgrestQueryBuilder=Xf.default;const eh=ar(os);Re.PostgrestFilterBuilder=eh.default;const th=ar(Ai);Re.PostgrestTransformBuilder=th.default;const nh=ar(Oi);Re.PostgrestBuilder=nh.default;const rh=ar($i);Re.PostgrestError=rh.default;var tv=Re.default={PostgrestClient:Zf.default,PostgrestQueryBuilder:Xf.default,PostgrestFilterBuilder:eh.default,PostgrestTransformBuilder:th.default,PostgrestBuilder:nh.default,PostgrestError:rh.default};const{PostgrestClient:nv,PostgrestQueryBuilder:ES,PostgrestFilterBuilder:TS,PostgrestTransformBuilder:jS,PostgrestBuilder:bS,PostgrestError:PS}=tv,rv="2.11.2",sv={"X-Client-Info":`realtime-js/${rv}`},iv="1.0.0",sh=1e4,ov=1e3;var Gn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gn||(Gn={}));var ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ze||(ze={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var wa;(function(t){t.websocket="websocket"})(wa||(wa={}));var an;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(an||(an={}));class av{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ih{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const ic=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=lv(o,t,e,s),i),{})},lv=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?oh(i,o):Sa(o)},oh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return fv(e,n)}switch(t){case q.bool:return uv(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return cv(e);case q.json:case q.jsonb:return dv(e);case q.timestamp:return hv(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return Sa(e);default:return Sa(e)}},Sa=t=>t,uv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>oh(e,a))}return t},hv=t=>typeof t=="string"?t.replace(" ","T"):t,ah=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _o{constructor(e,n,r={},s=sh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oc||(oc={}));class Or{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Or.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Or.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Or.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(E=>E.presence_ref),y=f.map(E=>E.presence_ref),v=c.filter(E=>y.indexOf(E.presence_ref)<0),S=f.filter(E=>h.indexOf(E.presence_ref)<0);v.length>0&&(a[u]=v),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(y=>y.presence_ref),h=c.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ac;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ac||(ac={}));var lc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lc||(lc={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Rl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _o(this,rt.join,this.params,this.timeout),this.rejoinTimer=new ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Or(this),this.broadcastEndpointURL=ah(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(yt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(yt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(yt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let S=0;S<y;S++){const E=h[S],{filter:{event:m,schema:p,table:g,filter:_}}=E,k=c&&c[S];if(k&&k.event===m&&k.schema===p&&k.table===g&&k.filter===_)v.push(Object.assign(Object.assign({},E),{id:k.id}));else{this.unsubscribe(),e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(yt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new _o(this,rt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _o(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=rt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,S,E;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((E=(S=y.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(y=>y.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,S,E,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((S=n.ids)===null||S===void 0?void 0:S.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:S,table:E,commit_timestamp:m,type:p,errors:g}=v;h=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(h,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Rl.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ic(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ic(e.columns,e.old_record)),n}}const pv=()=>{},mv=typeof WebSocket<"u",gv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yv{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sv,this.params={},this.timeout=sh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pv,this.conn=null,this.sendBuffer=[],this.serializer=new av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>tr(async()=>{const{default:l}=await Promise.resolve().then(()=>or);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${wa.websocket}`,this.httpEndpoint=ah(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ih(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),tr(async()=>{const{default:e}=await import("./browser-DVdi4HVc.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return an.Connecting;case Gn.open:return an.Open;case Gn.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}channel(e,n={config:{}}){const r=new Rl(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ov,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([gv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class vv{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ll extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _v extends Ll{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ka extends Ll{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var wv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const lh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tr(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Sv=()=>wv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tr(()=>Promise.resolve().then(()=>or),void 0)).Response:Response}),xa=t=>{if(Array.isArray(t))return t.map(n=>xa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=xa(r)}),e};var wn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kv=(t,e,n)=>wn(void 0,void 0,void 0,function*(){const r=yield Sv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new _v(wo(s),t.status||500))}).catch(s=>{e(new ka(wo(s),s))}):e(new ka(wo(t),t))}),xv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function as(t,e,n,r,s,i){return wn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,xv(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kv(l,a,r))})})}function mi(t,e,n,r){return wn(this,void 0,void 0,function*(){return as(t,"GET",e,n,r)})}function Ot(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return as(t,"POST",e,r,s,n)})}function Cv(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return as(t,"PUT",e,r,s,n)})}function Ev(t,e,n,r){return wn(this,void 0,void 0,function*(){return as(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uh(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return as(t,"DELETE",e,r,s,n)})}var Pe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Tv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jv{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=lh(s)}uploadOrUpdate(e,n,r,s){return Pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},uc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:uc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ll("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ot(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Pe(this,void 0,void 0,function*(){try{const s=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(e,n){return Pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xa(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ev(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof ka){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return Pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Tv),n),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const bv="2.7.1",Pv={"X-Client-Info":`storage-js/${bv}`};var xn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Nv{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Pv),n),this.fetch=lh(r)}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xn(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class Rv extends Nv{constructor(e,n={},r){super(e,n,r)}from(e){return new jv(this.url,this.headers,e,this.fetch)}}const Lv="2.48.1";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const Av={"X-Client-Info":`supabase-js-${Cr}/${Lv}`},Ov={headers:Av},$v={schema:"public"},Iv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zv={};var Dv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Bv=t=>{let e;return t?e=t:typeof fetch>"u"?e=Wf:e=fetch,(...n)=>e(...n)},Mv=()=>typeof Headers>"u"?qf:Headers,Uv=(t,e,n)=>{const r=Bv(n),s=Mv();return(i,o)=>Dv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Fv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Hv(t){return t.replace(/\/$/,"")}function Vv(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Fv(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const ch="2.67.3",Gv="http://localhost:9999",Kv="supabase.auth.token",Wv={"X-Client-Info":`gotrue-js/${ch}`},cc=10,Ca="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function qv(t){return Math.round(Date.now()/1e3)+t}function Qv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},$r=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function Yv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tr(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hh=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},bs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ps=async(t,e)=>{await t.removeItem(e)};function Zv(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Di{constructor(){this.promise=new Di.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Di.promiseConstructor=Promise;function dc(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Zv(r))}async function Xv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e_(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function t_(t){return("0"+t.toString(16)).substr(-2)}function n_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,t_).join("")}async function r_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function s_(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function i_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await r_(t);return s_(n)}async function Cn(t,e,n=!1){const r=n_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await hh(t,`${e}-code-verifier`,s);const i=await i_(r);return[i,r===i?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(t){const e=t.headers.get(Ca);if(!e||!e.match(o_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Al extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class l_ extends Al{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function u_(t){return B(t)&&t.name==="AuthApiError"}class ph extends Al{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Sn extends Al{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Nt extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c_(t){return B(t)&&t.name==="AuthSessionMissingError"}class So extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rs extends Sn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d_(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class fc extends Sn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ea extends Sn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ko(t){return B(t)&&t.name==="AuthRetryableFetchError"}class hc extends Sn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var f_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const on=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h_=[502,503,504];async function pc(t){var e;if(!Jv(t))throw new Ea(on(t),0);if(h_.includes(t.status))throw new Ea(on(t),t.status);let n;try{n=await t.json()}catch(i){throw new ph(on(i),i)}let r;const s=a_(t);if(s&&s.getTime()>=dh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hc(on(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hc(on(n),t.status,n.weak_password.reasons);throw new l_(on(n),t.status||500,r)}const p_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ca]||(i[Ca]=dh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await m_(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function m_(t,e,n,r,s,i){const o=p_(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ea(on(l),0)}if(a.ok||await pc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pc(l)}}function Rt(t){var e;let n=null;__(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=qv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mc(t){const e=Rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function g_(t){return{data:t,error:null}}function y_(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=f_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function v_(t){return t}function __(t){return t.access_token&&t.refresh_token&&t.expires_in}var w_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class S_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=fh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=w_(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:y_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:v_});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(v.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const k_={getItem:t=>$r()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{$r()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{$r()&&globalThis.localStorage.removeItem(t)}};function gc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function x_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&$r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class C_ extends mh{}async function E_(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new C_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}x_();const T_={url:Gv,storageKey:Kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vr=30*1e3,yc=3;async function vc(t,e,n){return await n()}class Xr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xr.nextInstanceID,Xr.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},T_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new S_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fh(s.fetch),this.lock=s.lock||vc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=E_:this.lock=vc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:$r()?this.storage=k_:(this.memoryStorage={},this.storage=gc(this.memoryStorage)):(this.memoryStorage={},this.storage=gc(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Yv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ct()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),d_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new ph("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:f,options:h}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Cn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:v},xform:Rt})}else if("phone"in e){const{phone:c,password:f,options:h}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mc})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new So}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await bs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rt});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new So}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new So}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Cn(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ns("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cn(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:g_})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Nt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(n){if(B(n))return c_(n)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Nt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Cn(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:zt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return dc(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=dc(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ct())throw new Rs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Rs("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const y=h-c;y*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:S,error:E}=await this._getUser(i);if(E)throw E;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await bs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(u_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Qv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Cn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e_(async s=>(s>0&&await Xv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ko(i)&&Date.now()+o-r<vr})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await bs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+cc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${cc}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ko(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Di;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return ko(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vr}ms, refresh threshold is ${yc} ticks`),s<=yc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Xr.nextInstanceID=0;const j_=Xr;class b_ extends j_{constructor(e){super(e)}}var P_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class N_{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Hv(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$v,realtime:zv,auth:Object.assign(Object.assign({},Iv),{storageKey:l}),global:Ov},c=Vv(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Uv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new nv(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ly(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rv(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return P_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b_({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new yv(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R_=(t,e,n)=>new N_(t,e,n),L_="https://rqbzcznzhgarjlqwyzrf.supabase.co",A_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYnpjem56aGdhcmpscXd5enJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMzczMTgsImV4cCI6MjA4MDkxMzMxOH0.DQU2cdWAA4bs2HwjRB3O7hmcH1ZEvIaB1Io0Ww5llvQ",es=R_(L_,A_),gh=async(t,e)=>{try{const{error:n,data:r}=await es.from("high_scores").insert([{player_name:t,score:e}]);if(n)throw console.error("Supabase error:",n),n;return console.log("Score saved successfully:",r),await $_(),!0}catch(n){return console.error("Error saving high score:",n),!1}},O_=async(t=10)=>{try{const{data:e,error:n}=await es.from("high_scores").select("*").order("score",{ascending:!1}).limit(t);if(n)throw n;return e||[]}catch(e){return console.error("Error fetching high scores:",e),[]}},yh=async()=>{try{const{data:t,error:e}=await es.from("high_scores").select("score").order("score",{ascending:!1}).limit(1);if(e)throw e;const n=t==null?void 0:t[0];return(n==null?void 0:n.score)??0}catch(t){return console.error("Error fetching highest score:",t),0}},$_=async()=>{try{const{data:t,error:e}=await es.from("high_scores").select("id, score").order("score",{ascending:!1}).limit(100);if(e)throw e;if(t&&t.length===100){const n=t[99];if(n){const r=n.score,{error:s}=await es.from("high_scores").delete().lt("score",r);if(s)throw s}}}catch(t){console.error("Error pruning high scores:",t)}},I_="_highScores_1i8xg_1",z_="_title_1i8xg_10",D_="_loading_1i8xg_19",B_="_empty_1i8xg_19",M_="_scoresList_1i8xg_27",U_="_scoreItem_1i8xg_33",F_="_first_1i8xg_49",H_="_second_1i8xg_54",V_="_third_1i8xg_59",G_="_rank_1i8xg_64",K_="_playerName_1i8xg_75",W_="_score_1i8xg_27",Se={highScores:I_,title:z_,loading:D_,empty:B_,scoresList:M_,scoreItem:U_,first:F_,second:H_,third:V_,rank:G_,playerName:K_,score:W_},q_=({limit:t=10,refreshInterval:e=5e3})=>{const[n,r]=w.useState([]),[s,i]=w.useState(!0),o=async()=>{const a=await O_(t);r(a),i(!1)};return w.useEffect(()=>{o()},[t]),w.useEffect(()=>{const a=setInterval(o,e);return()=>clearInterval(a)},[e]),s?d.jsxs("div",{className:Se.highScores,children:[d.jsx("h2",{className:Se.title,children:" LEADERBOARD"}),d.jsx("div",{className:Se.loading,children:"Loading..."})]}):n.length===0?d.jsxs("div",{className:Se.highScores,children:[d.jsx("h2",{className:Se.title,children:" LEADERBOARD"}),d.jsx("div",{className:Se.empty,children:"No scores yet. Be the first!"})]}):d.jsxs("div",{className:Se.highScores,children:[d.jsx("h2",{className:Se.title,children:" LEADERBOARD"}),d.jsx("div",{className:Se.scoresList,children:n.map((a,l)=>d.jsxs("div",{className:`${Se.scoreItem} ${l===0?Se.first:""} ${l===1?Se.second:""} ${l===2?Se.third:""}`,children:[d.jsx("span",{className:Se.rank,children:l===0?"":l===1?"":l===2?"":`${l+1}.`}),d.jsx("span",{className:Se.playerName,children:a.player_name}),d.jsx("span",{className:Se.score,children:a.score.toLocaleString()})]},a.id))})]})},Q_="_container_vocid_1",Y_="_compact_vocid_8",J_="_full_vocid_21",Z_="_label_vocid_29",X_="_value_vocid_43",Pt={container:Q_,compact:Y_,full:J_,label:Z_,value:X_},Ol=({variant:t="compact",refreshInterval:e=1e4})=>{const[n,r]=w.useState(0),[s,i]=w.useState(!0),o=async()=>{const a=await yh();r(a),i(!1)};return w.useEffect(()=>{o()},[]),w.useEffect(()=>{const a=setInterval(o,e);return()=>clearInterval(a)},[e]),s?d.jsxs("div",{className:`${Pt.container} ${Pt[t]}`,children:[d.jsx("span",{className:Pt.label,children:"HIGH SCORE"}),d.jsx("span",{className:Pt.value,children:"---"})]}):d.jsxs("div",{className:`${Pt.container} ${Pt[t]}`,children:[d.jsx("span",{className:Pt.label,children:" HIGH SCORE"}),d.jsx("span",{className:Pt.value,children:n.toLocaleString()})]})},e0=(t=1e4)=>{const[e,n]=w.useState(0),[r,s]=w.useState(!0),i=async()=>{const a=await yh();n(a),s(!1)},o=()=>{i()};return w.useEffect(()=>{i()},[]),w.useEffect(()=>{const a=setInterval(i,t);return()=>clearInterval(a)},[t]),{highScore:e,loading:r,refresh:o}},t0="_overlay_zcad1_1",n0="_fadeIn_zcad1_1",r0="_modal_zcad1_21",s0="_slideUp_zcad1_1",i0="_title_zcad1_44",o0="_newHighScore_zcad1_52",a0="_pulse_zcad1_1",l0="_scoreDisplay_zcad1_70",u0="_scoreLabel_zcad1_77",c0="_scoreValue_zcad1_84",d0="_form_zcad1_91",f0="_inputLabel_zcad1_97",h0="_input_zcad1_97",p0="_buttons_zcad1_125",m0="_submitButton_zcad1_132",g0="_skipButton_zcad1_154",Ie={overlay:t0,fadeIn:n0,modal:r0,slideUp:s0,title:i0,newHighScore:o0,pulse:a0,scoreDisplay:l0,scoreLabel:u0,scoreValue:c0,form:d0,inputLabel:f0,input:h0,buttons:p0,submitButton:m0,skipButton:g0},y0=({score:t,highScore:e,onSubmit:n,onSkip:r})=>{const[s,i]=w.useState(""),[o,a]=w.useState(!1),l=w.useRef(null),u=t>e;w.useEffect(()=>{var h;(h=l.current)==null||h.focus()},[]);const c=async h=>{h.preventDefault(),!(!s.trim()||o)&&(a(!0),await n(s.trim()))},f=h=>{h.stopPropagation()};return d.jsx("div",{className:Ie.overlay,children:d.jsxs("div",{className:Ie.modal,children:[d.jsx("h2",{className:Ie.title,children:"GAME OVER"}),u&&d.jsx("div",{className:Ie.newHighScore,children:" NEW HIGH SCORE! "}),d.jsxs("div",{className:Ie.scoreDisplay,children:[d.jsx("div",{className:Ie.scoreLabel,children:"YOUR SCORE"}),d.jsx("div",{className:Ie.scoreValue,children:t.toLocaleString()})]}),d.jsxs("form",{onSubmit:c,className:Ie.form,children:[d.jsx("label",{className:Ie.inputLabel,children:"Enter your name for the leaderboard:"}),d.jsx("input",{ref:l,type:"text",value:s,onChange:h=>i(h.target.value.slice(0,20)),onKeyDown:f,placeholder:"Your name",className:Ie.input,maxLength:20,disabled:o}),d.jsxs("div",{className:Ie.buttons,children:[d.jsx("button",{type:"submit",className:Ie.submitButton,disabled:!s.trim()||o,children:o?"SAVING...":"SUBMIT SCORE"}),d.jsx("button",{type:"button",onClick:r,className:Ie.skipButton,disabled:o,children:"SKIP"})]})]})]})})},v0="_settingsOverlay_1doou_1",_0="_settingsPanel_1doou_11",w0="_title_1doou_23",S0="_tabs_1doou_33",k0="_tab_1doou_33",x0="_activeTab_1doou_57",C0="_tabContent_1doou_64",E0="_setting_1doou_1",T0="_settingLabel_1doou_80",j0="_settingValue_1doou_86",b0="_buttons_1doou_99",P0="_saveButton_1doou_106",N0="_cancelButton_1doou_125",R0="_keyboardHint_1doou_146",L0="_editKeysButton_1doou_154",ee={settingsOverlay:v0,settingsPanel:_0,title:w0,tabs:S0,tab:k0,activeTab:x0,tabContent:C0,setting:E0,settingLabel:T0,settingValue:j0,buttons:b0,saveButton:P0,cancelButton:N0,keyboardHint:R0,editKeysButton:L0},A0="_container_12tqg_1",O0="_panel_12tqg_11",$0="_title_12tqg_25",I0="_bindingsList_12tqg_34",z0="_bindingRow_12tqg_41",D0="_listening_12tqg_57",B0="_actionName_12tqg_63",M0="_keyDisplay_12tqg_69",U0="_pressKey_12tqg_80",F0="_pulse_12tqg_1",H0="_conflictOverlay_12tqg_95",V0="_conflictDialog_12tqg_105",G0="_conflictMessage_12tqg_113",K0="_conflictButtons_12tqg_125",W0="_swapButton_12tqg_131",q0="_cancelConflictButton_12tqg_150",Q0="_buttons_12tqg_170",Y0="_resetButton_12tqg_176",J0="_mainButtons_12tqg_192",Z0="_saveButton_12tqg_198",X0="_cancelButton_12tqg_222",ew="_unsavedHint_12tqg_242",oe={container:A0,panel:O0,title:$0,bindingsList:I0,bindingRow:z0,listening:D0,actionName:B0,keyDisplay:M0,pressKey:U0,pulse:F0,conflictOverlay:H0,conflictDialog:V0,conflictMessage:G0,conflictButtons:K0,swapButton:W0,cancelConflictButton:q0,buttons:Q0,resetButton:Y0,mainButtons:J0,saveButton:Z0,cancelButton:X0,unsavedHint:ew},tw=({onSave:t,onClose:e})=>{const[n,r]=w.useState(va),[s]=w.useState(va),[i,o]=w.useState(null),[a,l]=w.useState(null),u=JSON.stringify(n)!==JSON.stringify(s);w.useEffect(()=>{if(!i)return;const m=p=>{p.preventDefault(),p.stopPropagation();const g=p.code,_=kg(n,g,i);_?l({action:i,existingAction:_,keyCode:g}):(r(k=>({...k,[i]:g})),o(null))};return window.addEventListener("keydown",m,!0),()=>window.removeEventListener("keydown",m,!0)},[i,n]);const c=w.useCallback(m=>{a||o(m)},[a]),f=w.useCallback(()=>{if(!a)return;const{action:m,existingAction:p,keyCode:g}=a,_=n[m];r(k=>({...k,[m]:g,[p]:_})),l(null),o(null)},[a,n]),h=w.useCallback(()=>{l(null),o(null)},[]),y=w.useCallback(()=>{Sg(n),t==null||t(n),e()},[n,t,e]),v=w.useCallback(()=>{u&&!window.confirm("You have unsaved changes. Discard them?")||e()},[u,e]),S=w.useCallback(()=>{window.confirm("Reset all key bindings to defaults?")&&r(Bf())},[]),E=w.useCallback(m=>{m.target===m.currentTarget&&i&&!a&&o(null)},[i,a]);return d.jsx("div",{className:oe.container,onClick:E,children:d.jsxs("div",{className:oe.panel,children:[d.jsx("h2",{className:oe.title,children:"KEYBOARD CONTROLS"}),d.jsx("div",{className:oe.bindingsList,children:kl.map(m=>d.jsxs("div",{className:`${oe.bindingRow} ${i===m?oe.listening:""}`,onClick:()=>c(m),children:[d.jsx("span",{className:oe.actionName,children:Xu[m]}),d.jsx("span",{className:oe.keyDisplay,children:i===m?d.jsx("span",{className:oe.pressKey,children:"Press a key..."}):tc(n[m])})]},m))}),a&&d.jsx("div",{className:oe.conflictOverlay,children:d.jsxs("div",{className:oe.conflictDialog,children:[d.jsxs("p",{className:oe.conflictMessage,children:[d.jsx("strong",{children:tc(a.keyCode)})," is already assigned to"," ",d.jsx("strong",{children:Xu[a.existingAction]})]}),d.jsxs("div",{className:oe.conflictButtons,children:[d.jsx("button",{className:oe.swapButton,onClick:f,children:"SWAP KEYS"}),d.jsx("button",{className:oe.cancelConflictButton,onClick:h,children:"CANCEL"})]})]})}),d.jsxs("div",{className:oe.buttons,children:[d.jsx("button",{className:oe.resetButton,onClick:S,children:"RESET DEFAULTS"}),d.jsxs("div",{className:oe.mainButtons,children:[d.jsx("button",{className:oe.saveButton,onClick:y,disabled:!u,children:"SAVE"}),d.jsx("button",{className:oe.cancelButton,onClick:v,children:u?"CANCEL":"CLOSE"})]})]}),u&&d.jsx("p",{className:oe.unsavedHint,children:"You have unsaved changes"})]})})},_c=({settings:t,onSave:e,onClose:n,onKeyBindingsChange:r})=>{const[s,i]=w.useState(t.das),[o,a]=w.useState(t.arr),[l,u]=w.useState("controls"),[c,f]=w.useState(!1),h=()=>{e({das:s,arr:o}),n()},y=v=>{r==null||r(v),f(!1)};return c?d.jsx(tw,{onSave:y,onClose:()=>f(!1)}):d.jsx("div",{className:ee.settingsOverlay,children:d.jsxs("div",{className:ee.settingsPanel,children:[d.jsx("h2",{className:ee.title,children:"Settings"}),d.jsxs("div",{className:ee.tabs,children:[d.jsx("button",{className:`${ee.tab} ${l==="controls"?ee.activeTab:""}`,onClick:()=>u("controls"),children:"CONTROLS"}),d.jsx("button",{className:`${ee.tab} ${l==="keyboard"?ee.activeTab:""}`,onClick:()=>u("keyboard"),children:"KEYBOARD"})]}),l==="controls"&&d.jsxs("div",{className:ee.tabContent,children:[d.jsx("div",{className:ee.setting,children:d.jsxs("label",{children:[d.jsx("span",{className:ee.settingLabel,children:"DAS (Delayed Auto Shift)"}),d.jsxs("span",{className:ee.settingValue,children:[s,"ms"]}),d.jsx("input",{type:"range",min:"50",max:"300",value:s,onChange:v=>i(Number(v.target.value))})]})}),d.jsx("div",{className:ee.setting,children:d.jsxs("label",{children:[d.jsx("span",{className:ee.settingLabel,children:"ARR (Auto Repeat Rate)"}),d.jsxs("span",{className:ee.settingValue,children:[o,"ms"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:o,onChange:v=>a(Number(v.target.value))})]})}),d.jsxs("div",{className:ee.buttons,children:[d.jsx("button",{className:ee.saveButton,onClick:h,children:"Save"}),d.jsx("button",{className:ee.cancelButton,onClick:n,children:"Cancel"})]})]}),l==="keyboard"&&d.jsxs("div",{className:ee.tabContent,children:[d.jsx("p",{className:ee.keyboardHint,children:"Customize your keyboard controls"}),d.jsx("button",{className:ee.editKeysButton,onClick:()=>f(!0),children:"EDIT KEY BINDINGS"}),d.jsx("div",{className:ee.buttons,children:d.jsx("button",{className:ee.cancelButton,onClick:n,children:"Close"})})]})]})})},nw="_container_18y0i_5",rw="_gameLayout_18y0i_15",sw="_leftPanel_18y0i_23",iw="_centerPanel_18y0i_31",ow="_particleCanvas_18y0i_37",aw="_rightPanel_18y0i_41",lw="_startScreen_18y0i_50",uw="_title_18y0i_65",cw="_subtitle_18y0i_73",dw="_controls_18y0i_81",fw="_startButton_18y0i_128",hw="_startButtons_18y0i_155",pw="_settingsButton_18y0i_162",mw="_settingsButtonPause_18y0i_183",gw="_hint_18y0i_203",yw="_gameOverScreen_18y0i_211",vw="_gameOverTitle_18y0i_226",_w="_finalStats_18y0i_234",ww="_finalStat_18y0i_234",Sw="_restartButton_18y0i_268",kw="_pauseOverlay_18y0i_299",xw="_pauseModal_18y0i_309",Cw="_pauseTitle_18y0i_324",Ew="_pauseStats_18y0i_332",Tw="_pauseStatRow_18y0i_340",jw="_pauseStatLabel_18y0i_352",bw="_pauseStatValue_18y0i_359",Pw="_accent_18y0i_366",Nw="_accentPurple_18y0i_370",Rw="_accentPink_18y0i_374",Lw="_accentGold_18y0i_378",Aw="_pauseDivider_18y0i_382",Ow="_resumeButton_18y0i_388",$w="_pauseHint_18y0i_415",Iw="_soundToggle_18y0i_423",zw="_soundOn_18y0i_440",Dw="_soundOff_18y0i_444",Bw="_soundIcon_18y0i_448",Mw="_soundLabel_18y0i_452",Uw="_highScoreDisplay_18y0i_529",Fw="_leaderboard_18y0i_533",Hw="_highScoreInGame_18y0i_539",z={container:nw,gameLayout:rw,leftPanel:sw,centerPanel:iw,particleCanvas:ow,rightPanel:aw,startScreen:lw,title:uw,subtitle:cw,controls:dw,startButton:fw,startButtons:hw,settingsButton:pw,settingsButtonPause:mw,hint:gw,gameOverScreen:yw,gameOverTitle:vw,finalStats:_w,finalStat:ww,restartButton:Sw,pauseOverlay:kw,pauseModal:xw,pauseTitle:Cw,pauseStats:Ew,pauseStatRow:Tw,pauseStatLabel:jw,pauseStatValue:bw,accent:Pw,accentPurple:Nw,accentPink:Rw,accentGold:Lw,pauseDivider:Aw,resumeButton:Ow,pauseHint:$w,soundToggle:Iw,soundOn:zw,soundOff:Dw,soundIcon:Bw,soundLabel:Mw,highScoreDisplay:Uw,leaderboard:Fw,highScoreInGame:Hw},Vw=({onStart:t,onSettings:e})=>d.jsxs("div",{className:z.startScreen,children:[d.jsx("h1",{className:z.title,children:"TETRIS"}),d.jsx("p",{className:z.subtitle,children:"EFFECT CLONE"}),d.jsx("div",{className:z.highScoreDisplay,children:d.jsx(Ol,{variant:"full"})}),d.jsxs("div",{className:z.controls,children:[d.jsx("h3",{children:"CONTROLS"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("span",{children:" "})," Move"]}),d.jsxs("li",{children:[d.jsx("span",{children:""})," Soft Drop"]}),d.jsxs("li",{children:[d.jsx("span",{children:"SPACE"})," Hard Drop"]}),d.jsxs("li",{children:[d.jsx("span",{children:"/X"})," Rotate CW"]}),d.jsxs("li",{children:[d.jsx("span",{children:"Z"})," Rotate CCW"]}),d.jsxs("li",{children:[d.jsx("span",{children:"C/SHIFT"})," Hold"]}),d.jsxs("li",{children:[d.jsx("span",{children:"E"})," Zone"]}),d.jsxs("li",{children:[d.jsx("span",{children:"ESC"})," Pause"]})]})]}),d.jsxs("div",{className:z.startButtons,children:[d.jsx("button",{className:z.startButton,onClick:t,children:"PRESS TO START"}),d.jsx("button",{className:z.settingsButton,onClick:e,children:"SETTINGS"})]}),d.jsx("p",{className:z.hint,children:"Or press ENTER"}),d.jsx("div",{className:z.leaderboard,children:d.jsx(q_,{limit:10,refreshInterval:5e3})})]}),Gw=({stats:t,score:e,level:n,lines:r,soundEnabled:s,onToggleSound:i,onResume:o,onSettings:a})=>{const l=t.totalClears>0?Math.round(t.tetrisCount/t.totalClears*100):0;return d.jsx("div",{className:z.pauseOverlay,children:d.jsxs("div",{className:z.pauseModal,children:[d.jsx("h2",{className:z.pauseTitle,children:"PAUSED"}),d.jsxs("div",{className:z.pauseStats,children:[d.jsxs("div",{className:z.pauseStatRow,children:[d.jsx("span",{className:z.pauseStatLabel,children:"SCORE"}),d.jsx("span",{className:z.pauseStatValue,children:e.toLocaleString()})]}),d.jsxs("div",{className:z.pauseStatRow,children:[d.jsx("span",{className:z.pauseStatLabel,children:"LEVEL"}),d.jsx("span",{className:z.pauseStatValue,children:n})]}),d.jsxs("div",{className:z.pauseStatRow,children:[d.jsx("span",{className:z.pauseStatLabel,children:"LINES"}),d.jsx("span",{className:z.pauseStatValue,children:r})]}),d.jsxs("div",{className:z.pauseStatRow,children:[d.jsx("span",{className:z.pauseStatLabel,children:"TETRIS RATE"}),d.jsxs("span",{className:`${z.pauseStatValue} ${z.accent}`,children:[l,"%"]})]})]}),d.jsxs("button",{className:`${z.soundToggle} ${s?z.soundOn:z.soundOff}`,onClick:i,children:[d.jsx("span",{className:z.soundIcon,children:s?"":""}),d.jsxs("span",{className:z.soundLabel,children:["SOUND ",s?"ON":"OFF"]})]}),d.jsx("button",{className:z.settingsButtonPause,onClick:a,children:"SETTINGS"}),d.jsx("button",{className:z.resumeButton,onClick:o,children:"RESUME"}),d.jsx("p",{className:z.pauseHint,children:"Press ESC to resume"})]})})},Kw=({stage:t,onGameOver:e})=>{const{state:n,start:r,pause:s,restart:i,addEventListener:o,setKeyBindings:a}=Mf(t),l=Kf(o,n.level,n.zone.mode==="active"),[u,c]=w.useState(!0),[f,h]=w.useState(!1),[y,v]=w.useState(!1),[S,E]=w.useState(!1),[m,p]=w.useState({das:167,arr:33}),{highScore:g,refresh:_}=e0(3e4),[k,T]=w.useState({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,hardDrops:0,piecesPlaced:0,playTime:0});w.useEffect(()=>{if(!f||n.phase==="paused"||n.phase==="gameOver")return;const C=setInterval(()=>{T(L=>({...L,playTime:L.playTime+1}))},1e3);return()=>clearInterval(C)},[f,n.phase]);const b=C=>C.includes("tSpin"),N=w.useCallback(()=>{h(!0),T({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,hardDrops:0,piecesPlaced:0,playTime:0}),r()},[r]),G=w.useCallback(()=>{T({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,hardDrops:0,piecesPlaced:0,playTime:0}),v(!1),i(t),r()},[i,r,t]),$=w.useCallback(async C=>{await gh(C,n.score),_(),G()},[n.score,_,G]),P=w.useCallback(()=>{G()},[G]),O=w.useCallback(()=>{s()},[s]),D=w.useCallback(()=>{const C=!u;c(C),l.setEnabled(C)},[u,l]),U=w.useCallback(()=>{E(!0)},[]),Y=w.useCallback(()=>{E(!1)},[]),Ve=w.useCallback(C=>{p(C)},[]),lt=w.useCallback(C=>{a(C)},[a]);return w.useEffect(()=>{if(f)return;const C=L=>{L.code==="Enter"&&N()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[f,N]),w.useEffect(()=>o(L=>{switch(L.type){case"gameOver":e==null||e(L.finalScore),v(!0);break;case"linesCleared":T(A=>({...A,totalClears:A.totalClears+1,tetrisCount:A.tetrisCount+(L.clearType==="tetris"?1:0),tSpinCount:A.tSpinCount+(b(L.clearType)?1:0),perfectClears:A.perfectClears+(L.clearType==="allClear"?1:0)}));break;case"comboIncreased":T(A=>({...A,longestCombo:Math.max(A.longestCombo,L.count)}));break;case"pieceLocked":T(A=>({...A,piecesPlaced:A.piecesPlaced+1}));break}}),[o,e]),f?n.phase==="gameOver"&&y?d.jsx("div",{className:z.container,children:d.jsx(y0,{score:n.score,highScore:g,onSubmit:$,onSkip:P})}):d.jsxs("div",{className:z.container,children:[d.jsxs("div",{className:z.gameLayout,children:[d.jsxs("div",{className:z.leftPanel,children:[d.jsx(Tl,{type:n.holdPiece,canHold:n.canHold}),d.jsx(bl,{meter:n.zone.meter,isActive:n.zone.mode==="active",timeRemaining:n.zone.timeRemaining,linesCleared:n.zone.linesCleared,maxTime:n.zone.maxTime}),d.jsx(jl,{score:n.score,level:n.level,linesCleared:n.linesCleared,combo:n.combo.count,backToBack:n.combo.backToBack,lastClear:n.lastClear})]}),d.jsx("div",{className:z.centerPanel,children:d.jsx(xl,{board:n.board,currentPiece:n.currentPiece,ghostY:n.ghostY,isZoneActive:n.zone.mode==="active",isPaused:n.phase==="paused",zoneLinesCleared:n.zone.linesCleared})}),d.jsxs("div",{className:z.rightPanel,children:[d.jsx(El,{pieces:n.nextPieces,count:5}),d.jsx("div",{className:z.highScoreInGame,children:d.jsx(Ol,{variant:"compact",refreshInterval:3e4})})]})]}),n.phase==="paused"&&!S&&d.jsx(Gw,{stats:k,score:n.score,level:n.level,lines:n.linesCleared,soundEnabled:u,onToggleSound:D,onResume:O,onSettings:U}),S&&d.jsx(_c,{settings:m,onSave:Ve,onClose:Y,onKeyBindingsChange:lt})]}):d.jsxs("div",{className:z.container,children:[d.jsx(Vw,{onStart:N,onSettings:U}),S&&d.jsx(_c,{settings:m,onSave:Ve,onClose:Y,onKeyBindingsChange:lt})]})},Ww="_controlPanel_3utk3_10",qw="_mainControls_3utk3_24",Qw="_dpadArea_3utk3_31",Yw="_abxyArea_3utk3_35",Jw="_systemArea_3utk3_39",Zw="_dpad_3utk3_31",Xw="_dpadButton_3utk3_57",e1="_dpadUp_3utk3_79",t1="_dpadDown_3utk3_90",n1="_dpadLeft_3utk3_101",r1="_dpadRight_3utk3_112",s1="_dpadCenter_3utk3_123",i1="_dpadArrow_3utk3_132",o1="_abxyContainer_3utk3_146",a1="_abxyButton_3utk3_154",l1="_buttonX_3utk3_186",u1="_buttonY_3utk3_192",c1="_buttonA_3utk3_198",d1="_buttonB_3utk3_204",f1="_buttonLabel_3utk3_209",h1="_systemButtons_3utk3_224",p1="_systemButton_3utk3_224",m1="_systemLabel_3utk3_262",g1="_powerLed_3utk3_275",M={controlPanel:Ww,mainControls:qw,dpadArea:Qw,abxyArea:Yw,systemArea:Jw,dpad:Zw,dpadButton:Xw,dpadUp:e1,dpadDown:t1,dpadLeft:n1,dpadRight:r1,dpadCenter:s1,dpadArrow:i1,abxyContainer:o1,abxyButton:a1,buttonX:l1,buttonY:u1,buttonA:c1,buttonB:d1,buttonLabel:f1,systemButtons:h1,systemButton:p1,systemLabel:m1,powerLed:g1},y1=167,v1=33,_1={up:"hardDrop",down:"softDrop",left:"moveLeft",right:"moveRight"},w1=new Set(["moveLeft","moveRight","softDrop"]),S1=({onInput:t,disabled:e=!1})=>{const n=w.useRef(null),r=w.useRef(null),s=w.useRef(null),i=w.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),s.current&&(clearInterval(s.current),s.current=null)},[]),o=w.useCallback(u=>{if(e)return;n.current=u;const c=_1[u];navigator.vibrate&&navigator.vibrate(10),t(c),w1.has(c)&&(i(),r.current=setTimeout(()=>{s.current=setInterval(()=>{n.current===u&&t(c)},v1)},y1))},[t,e,i]),a=w.useCallback(()=>{n.current=null,i()},[i]);w.useEffect(()=>()=>i(),[i]);const l=u=>({onTouchStart:c=>{c.preventDefault(),o(u)},onTouchEnd:c=>{c.preventDefault(),a()},onTouchCancel:c=>{c.preventDefault(),a()}});return d.jsxs("div",{className:M.dpad,children:[d.jsx("button",{className:`${M.dpadButton} ${M.dpadUp}`,...l("up"),disabled:e,"aria-label":"Hard Drop",children:d.jsx("span",{className:M.dpadArrow,children:""})}),d.jsx("button",{className:`${M.dpadButton} ${M.dpadLeft}`,...l("left"),disabled:e,"aria-label":"Move Left",children:d.jsx("span",{className:M.dpadArrow,children:""})}),d.jsx("div",{className:M.dpadCenter}),d.jsx("button",{className:`${M.dpadButton} ${M.dpadRight}`,...l("right"),disabled:e,"aria-label":"Move Right",children:d.jsx("span",{className:M.dpadArrow,children:""})}),d.jsx("button",{className:`${M.dpadButton} ${M.dpadDown}`,...l("down"),disabled:e,"aria-label":"Soft Drop",children:d.jsx("span",{className:M.dpadArrow,children:""})})]})},k1={A:"rotateCW",B:"rotateCCW",X:"zone",Y:"hold"},x1=({onInput:t,disabled:e=!1})=>{const n=w.useCallback(s=>{if(e)return;navigator.vibrate&&navigator.vibrate(10);const i=k1[s];i&&t(i)},[t,e]),r=s=>({onTouchStart:i=>{i.preventDefault(),n(s)},onTouchEnd:i=>{i.preventDefault()}});return d.jsxs("div",{className:M.abxyContainer,children:[d.jsx("button",{className:`${M.abxyButton} ${M.buttonX}`,...r("X"),disabled:e,"aria-label":"Activate Zone",children:d.jsx("span",{className:M.buttonLabel,children:"X"})}),d.jsx("button",{className:`${M.abxyButton} ${M.buttonY}`,...r("Y"),disabled:e,"aria-label":"Hold Piece",children:d.jsx("span",{className:M.buttonLabel,children:"Y"})}),d.jsx("button",{className:`${M.abxyButton} ${M.buttonA}`,...r("A"),disabled:e,"aria-label":"Rotate Clockwise",children:d.jsx("span",{className:M.buttonLabel,children:"A"})}),d.jsx("button",{className:`${M.abxyButton} ${M.buttonB}`,...r("B"),disabled:e,"aria-label":"Rotate Counter-Clockwise",children:d.jsx("span",{className:M.buttonLabel,children:"B"})})]})},C1=({onInput:t,disabled:e=!1})=>{const n=w.useCallback(s=>{navigator.vibrate&&navigator.vibrate(10),t(s)},[t]),r=s=>({onTouchStart:i=>{i.preventDefault(),n(s)},onTouchEnd:i=>{i.preventDefault()}});return d.jsxs("div",{className:M.systemButtons,children:[d.jsx("button",{className:`${M.systemButton} ${M.zoneButton}`,...r("zone"),disabled:e,"aria-label":"Zone - Activate Zone",children:d.jsx("span",{className:M.systemLabel,children:"ZONE"})}),d.jsx("button",{className:`${M.systemButton} ${M.startButton}`,...r("pause"),"aria-label":"Start - Pause",children:d.jsx("span",{className:M.systemLabel,children:"START"})}),d.jsx("div",{className:M.powerLed})]})},E1=({onInput:t,disabled:e=!1})=>d.jsxs("div",{className:M.controlPanel,children:[d.jsxs("div",{className:M.mainControls,children:[d.jsx("div",{className:M.dpadArea,children:d.jsx(S1,{onInput:t,disabled:e})}),d.jsx("div",{className:M.abxyArea,children:d.jsx(x1,{onInput:t,disabled:e})})]}),d.jsx("div",{className:M.systemArea,children:d.jsx(C1,{onInput:t,disabled:e})})]}),T1="_container_1z0at_10",j1="_gameArea_1z0at_30",b1="_gameLayout_1z0at_39",P1="_leftPanel_1z0at_78",N1="_centerPanel_1z0at_86",R1="_rightPanel_1z0at_91",L1="_highScoreArea_1z0at_99",A1="_startScreen_1z0at_107",O1="_startContent_1z0at_116",$1="_title_1z0at_132",I1="_subtitle_1z0at_140",z1="_mobileControls_1z0at_148",D1="_controlsList_1z0at_166",B1="_controlItem_1z0at_172",M1="_controlKey_1z0at_178",U1="_controlAction_1z0at_187",F1="_startButtons_1z0at_193",H1="_startButton_1z0at_193",V1="_settingsBtn_1z0at_224",G1="_gameOverScreen_1z0at_249",K1="_gameOverContent_1z0at_258",W1="_gameOverTitle_1z0at_274",q1="_finalStats_1z0at_282",Q1="_statRow_1z0at_288",Y1="_nameInput_1z0at_313",J1="_textInput_1z0at_327",Z1="_gameOverButtons_1z0at_347",X1="_submitButton_1z0at_354",eS="_skipButton_1z0at_373",tS="_pauseOverlay_1z0at_391",nS="_pauseContent_1z0at_402",rS="_pauseTitle_1z0at_417",sS="_pauseStats_1z0at_425",iS="_soundToggle_1z0at_431",oS="_pauseButtons_1z0at_447",aS="_resumeButton_1z0at_454",lS="_settingsOverlay_1z0at_480",uS="_settingsContent_1z0at_492",cS="_settingsTitle_1z0at_510",dS="_settingsInfo_1z0at_518",fS="_closeButton_1z0at_551",R={container:T1,gameArea:j1,gameLayout:b1,leftPanel:P1,centerPanel:N1,rightPanel:R1,highScoreArea:L1,startScreen:A1,startContent:O1,title:$1,subtitle:I1,mobileControls:z1,controlsList:D1,controlItem:B1,controlKey:M1,controlAction:U1,startButtons:F1,startButton:H1,settingsBtn:V1,gameOverScreen:G1,gameOverContent:K1,gameOverTitle:W1,finalStats:q1,statRow:Q1,nameInput:Y1,textInput:J1,gameOverButtons:Z1,submitButton:X1,skipButton:eS,pauseOverlay:tS,pauseContent:nS,pauseTitle:rS,pauseStats:sS,soundToggle:iS,pauseButtons:oS,resumeButton:aS,settingsOverlay:lS,settingsContent:uS,settingsTitle:cS,settingsInfo:dS,closeButton:fS},hS=({onStart:t,onSettings:e})=>d.jsx("div",{className:R.startScreen,children:d.jsxs("div",{className:R.startContent,children:[d.jsx("h1",{className:R.title,children:"TETRIS"}),d.jsx("p",{className:R.subtitle,children:"EFFECT CLONE"}),d.jsxs("div",{className:R.mobileControls,children:[d.jsx("h3",{children:"CONTROLS"}),d.jsxs("div",{className:R.controlsList,children:[d.jsxs("div",{className:R.controlItem,children:[d.jsx("span",{className:R.controlKey,children:"D-PAD"}),d.jsx("span",{className:R.controlAction,children:"Move / Drop"})]}),d.jsxs("div",{className:R.controlItem,children:[d.jsx("span",{className:R.controlKey,children:"A / B"}),d.jsx("span",{className:R.controlAction,children:"Rotate"})]}),d.jsxs("div",{className:R.controlItem,children:[d.jsx("span",{className:R.controlKey,children:"X"}),d.jsx("span",{className:R.controlAction,children:"Hold"})]}),d.jsxs("div",{className:R.controlItem,children:[d.jsx("span",{className:R.controlKey,children:"Y"}),d.jsx("span",{className:R.controlAction,children:"Zone"})]})]})]}),d.jsxs("div",{className:R.startButtons,children:[d.jsx("button",{className:R.startButton,onClick:t,children:"START GAME"}),d.jsx("button",{className:R.settingsBtn,onClick:e,children:"SETTINGS"})]})]})}),pS=({score:t,level:e,lines:n,stats:r,onSubmit:s,onSkip:i})=>{const[o,a]=w.useState(""),[l,u]=w.useState(!1),c=r.totalClears>0?Math.round(r.tetrisCount/r.totalClears*100):0,f=async()=>{o.trim()&&(u(!0),await s(o.trim()),u(!1))};return d.jsx("div",{className:R.gameOverScreen,children:d.jsxs("div",{className:R.gameOverContent,children:[d.jsx("h2",{className:R.gameOverTitle,children:"GAME OVER"}),d.jsxs("div",{className:R.finalStats,children:[d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"SCORE"}),d.jsx("span",{children:t.toLocaleString()})]}),d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"LEVEL"}),d.jsx("span",{children:e})]}),d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"LINES"}),d.jsx("span",{children:n})]}),d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"TETRIS RATE"}),d.jsxs("span",{children:[c,"%"]})]})]}),d.jsxs("div",{className:R.nameInput,children:[d.jsx("label",{children:"ENTER YOUR NAME"}),d.jsx("input",{type:"text",value:o,onChange:h=>a(h.target.value.toUpperCase().slice(0,10)),placeholder:"YOUR NAME",maxLength:10,className:R.textInput})]}),d.jsxs("div",{className:R.gameOverButtons,children:[d.jsx("button",{className:R.submitButton,onClick:f,disabled:!o.trim()||l,children:l?"SAVING...":"SUBMIT SCORE"}),d.jsx("button",{className:R.skipButton,onClick:i,children:"PLAY AGAIN"})]})]})})},mS=({score:t,level:e,lines:n,soundEnabled:r,onToggleSound:s,onResume:i,onSettings:o})=>d.jsx("div",{className:R.pauseOverlay,children:d.jsxs("div",{className:R.pauseContent,children:[d.jsx("h2",{className:R.pauseTitle,children:"PAUSED"}),d.jsxs("div",{className:R.pauseStats,children:[d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"SCORE"}),d.jsx("span",{children:t.toLocaleString()})]}),d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"LEVEL"}),d.jsx("span",{children:e})]}),d.jsxs("div",{className:R.statRow,children:[d.jsx("span",{children:"LINES"}),d.jsx("span",{children:n})]})]}),d.jsx("button",{className:R.soundToggle,onClick:s,children:r?" SOUND ON":" SOUND OFF"}),d.jsxs("div",{className:R.pauseButtons,children:[d.jsx("button",{className:R.resumeButton,onClick:i,children:"RESUME"}),d.jsx("button",{className:R.settingsBtn,onClick:o,children:"SETTINGS"})]})]})}),wc=({onClose:t})=>d.jsx("div",{className:R.settingsOverlay,children:d.jsxs("div",{className:R.settingsContent,children:[d.jsx("h2",{className:R.settingsTitle,children:"SETTINGS"}),d.jsxs("div",{className:R.settingsInfo,children:[d.jsx("p",{children:"Mobile version uses default settings optimized for touch controls."}),d.jsx("p",{children:"Button mappings:"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"D-Pad Up:"})," Hard Drop"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"D-Pad Down:"})," Soft Drop"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"D-Pad Left/Right:"})," Move"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"A:"})," Rotate Clockwise"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"B:"})," Rotate Counter-Clockwise"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"X:"})," Hold Piece"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Y:"})," Activate Zone"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Start:"})," Pause"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Select:"})," Rotate 180"]})]})]}),d.jsx("button",{className:R.closeButton,onClick:t,children:"CLOSE"})]})}),gS=({stage:t,onGameOver:e})=>{const{state:n,start:r,pause:s,restart:i,handleInput:o,addEventListener:a}=Mf(t),l=Kf(a,n.level,n.zone.mode==="active"),[u,c]=w.useState(!0),[f,h]=w.useState(!1),[y,v]=w.useState(!1),[S,E]=w.useState(!1),[m,p]=w.useState({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,piecesPlaced:0,playTime:0});w.useEffect(()=>{if(!f||n.phase==="paused"||n.phase==="gameOver")return;const D=setInterval(()=>{p(U=>({...U,playTime:U.playTime+1}))},1e3);return()=>clearInterval(D)},[f,n.phase]);const g=D=>D.includes("tSpin"),_=w.useCallback(()=>{h(!0),p({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,piecesPlaced:0,playTime:0}),r()},[r]),k=w.useCallback(()=>{p({totalClears:0,tetrisCount:0,tSpinCount:0,longestCombo:0,perfectClears:0,piecesPlaced:0,playTime:0}),v(!1),i(t),r()},[i,r,t]),T=w.useCallback(async D=>{await gh(D,n.score),k()},[n.score,k]),b=w.useCallback(()=>{k()},[k]),N=w.useCallback(()=>{s()},[s]),G=w.useCallback(()=>{const D=!u;c(D),l.setEnabled(D)},[u,l]),$=w.useCallback(()=>{n.phase==="playing"&&s(),E(!0)},[n.phase,s]),P=w.useCallback(()=>{E(!1)},[]),O=w.useCallback(D=>{o(D)},[o]);return w.useEffect(()=>a(U=>{switch(U.type){case"gameOver":e==null||e(U.finalScore),v(!0);break;case"linesCleared":p(Y=>({...Y,totalClears:Y.totalClears+1,tetrisCount:Y.tetrisCount+(U.clearType==="tetris"?1:0),tSpinCount:Y.tSpinCount+(g(U.clearType)?1:0),perfectClears:Y.perfectClears+(U.clearType==="allClear"?1:0)}));break;case"comboIncreased":p(Y=>({...Y,longestCombo:Math.max(Y.longestCombo,U.count)}));break;case"pieceLocked":p(Y=>({...Y,piecesPlaced:Y.piecesPlaced+1}));break}}),[a,e]),w.useEffect(()=>{const D=U=>{f&&!S&&!y&&U.preventDefault()};return document.addEventListener("touchmove",D,{passive:!1}),()=>document.removeEventListener("touchmove",D)},[f,S,y]),f?n.phase==="gameOver"&&y?d.jsx("div",{className:R.container,children:d.jsx(pS,{score:n.score,level:n.level,lines:n.linesCleared,stats:m,onSubmit:T,onSkip:b})}):d.jsxs("div",{className:R.container,children:[d.jsx("div",{className:R.gameArea,children:d.jsxs("div",{className:R.gameLayout,children:[d.jsxs("div",{className:R.leftPanel,children:[d.jsx(Tl,{type:n.holdPiece,canHold:n.canHold}),d.jsx(bl,{meter:n.zone.meter,isActive:n.zone.mode==="active",timeRemaining:n.zone.timeRemaining,linesCleared:n.zone.linesCleared,maxTime:n.zone.maxTime}),d.jsx(jl,{score:n.score,level:n.level,linesCleared:n.linesCleared,combo:n.combo.count,backToBack:n.combo.backToBack,lastClear:n.lastClear})]}),d.jsx("div",{className:R.centerPanel,children:d.jsx(xl,{board:n.board,currentPiece:n.currentPiece,ghostY:n.ghostY,isZoneActive:n.zone.mode==="active",isPaused:n.phase==="paused",zoneLinesCleared:n.zone.linesCleared})}),d.jsxs("div",{className:R.rightPanel,children:[d.jsx(El,{pieces:n.nextPieces,count:3}),d.jsx("div",{className:R.highScoreArea,children:d.jsx(Ol,{variant:"compact",refreshInterval:3e4})})]})]})}),d.jsx(E1,{onInput:O,disabled:n.phase==="paused"||n.phase==="gameOver"}),n.phase==="paused"&&!S&&d.jsx(mS,{score:n.score,level:n.level,lines:n.linesCleared,soundEnabled:u,onToggleSound:G,onResume:N,onSettings:$}),S&&d.jsx(wc,{onClose:P})]}):d.jsxs("div",{className:R.container,children:[d.jsx(hS,{onStart:_,onSettings:$}),S&&d.jsx(wc,{onClose:P})]})};function Sc(){if(typeof window>"u")return{isMobile:!1,isTouchDevice:!1,isPortrait:!0};const t="ontouchstart"in window||navigator.maxTouchPoints>0,e=window.innerWidth<=768,n=window.innerHeight>window.innerWidth,r=navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(r),i=/Macintosh/i.test(r)&&t;return{isMobile:t&&e||s||i,isTouchDevice:t,isPortrait:n}}function yS(){const[t,e]=w.useState(Sc);return w.useEffect(()=>{const n=()=>{e(Sc())};return window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),t}const vS=()=>{const{isMobile:t}=yS(),e=n=>{console.log("Game over! Final score:",n)};return t?d.jsx(gS,{onGameOver:e}):d.jsx(Kw,{onGameOver:e})};xo.createRoot(document.getElementById("root")).render(d.jsx(_r.StrictMode,{children:d.jsx(vS,{})}));export{wh as g};
//# sourceMappingURL=index-ZqTsQx9I.js.map
